{"version":3,"file":"flatpickr.js","sources":["../src/types/options.ts","../src/l10n/default.ts","../src/utils/index.ts","../src/utils/dom.ts","../src/utils/formatting.ts","../src/utils/dates.ts","../src/utils/polyfills.ts","../src/index.ts"],"sourcesContent":["import { Instance } from \"./instance\";\nimport { CustomLocale, key as LocaleKey, Locale } from \"./locale\";\n\nexport type DateOption = Date | string | number;\nexport type DateRangeLimit<D = DateOption> = { from: D; to: D };\nexport type DateLimit<D = DateOption> =\n  | D\n  | DateRangeLimit<D>\n  | ((date: Date) => boolean);\n\nexport type Hook = (\n  dates: Date[],\n  currentDateString: string,\n  self: Instance,\n  data?: any\n) => void;\n\nexport type HookKey =\n  | \"onChange\"\n  | \"onClose\"\n  | \"onDayCreate\"\n  | \"onDestroy\"\n  | \"onKeyDown\"\n  | \"onMonthChange\"\n  | \"onOpen\"\n  | \"onParseConfig\"\n  | \"onReady\"\n  | \"onValueUpdate\"\n  | \"onYearChange\"\n  | \"onPreCalendarPosition\";\n\nexport const HOOKS: HookKey[] = [\n  \"onChange\",\n  \"onClose\",\n  \"onDayCreate\",\n  \"onDestroy\",\n  \"onKeyDown\",\n  \"onMonthChange\",\n  \"onOpen\",\n  \"onParseConfig\",\n  \"onReady\",\n  \"onValueUpdate\",\n  \"onYearChange\",\n  \"onPreCalendarPosition\",\n];\n\nexport type Plugin<E = {}> = (fp: Instance & E) => Options;\n\nexport interface BaseOptions {\n  /*\n  Allows the user to enter a date directly input the input field. By default, direct entry is disabled.\n  */\n  allowInput: boolean;\n\n  /* Allow preloading of invalid date */\n  allowInvalidPreload: boolean;\n\n  /* Exactly the same as date format, but for the altInput field */\n  altFormat: string;\n\n  /* Show the user a readable date (as per altFormat), but return something totally different to the server.*/\n  altInput: boolean;\n\n  /* This class will be added to the input element created by the altInput option.  Note that altInput already inherits classes from the original input. */\n  altInputClass: string;\n\n  /* Whether to enable animations, such as month transitions */\n  animate: boolean;\n\n  /* Instead of body, appends the calendar to the specified node instead. */\n  appendTo: HTMLElement;\n\n  /* Defines how the date will be formatted in the aria-label for calendar days, using the same tokens as dateFormat. If you change this, you should choose a value that will make sense if a screen reader reads it out loud. */\n  /* Defaults to \"F j, Y\" */\n  ariaDateFormat: string;\n\n  /* Whether the default time should be auto-filled when the input is empty and gains or loses focus. */\n  /* Defaults to true */\n  autoFillDefaultTime: boolean;\n\n  /*\n    Whether clicking on the input should open the picker.\n    Set it to false if you only want to open the calendar programmatically\n  */\n  clickOpens: boolean;\n\n  /* Whether calendar should close after date selection */\n  closeOnSelect: boolean;\n\n  /* Close btn on bottom */\n  closeBtn: () => boolean;\n  /*\n    If \"mode\" is \"multiple\", this string will be used to join\n    selected dates together for the date input value.\n  */\n  conjunction: string;\n\n  /*\n    A string of characters which are used to define how the date will be displayed in the input box.\n    See https://chmln.github.io/flatpickr/formatting\n  */\n  dateFormat: string;\n\n  /* The initial selected date(s). */\n  defaultDate: DateOption | DateOption[];\n\n  /* Initial value of the hour element, when no date is selected */\n  defaultHour: number;\n\n  /* Initial value of the minute element, when no date is selected */\n  defaultMinute: number;\n\n  /* Initial value of the seconds element, when no date is selected */\n  defaultSeconds: number;\n\n  /*\n    Disables certain dates, preventing them from being selected.\n    See https://chmln.github.io/flatpickr/examples/#disabling-specific-dates */\n  disable: DateLimit<DateOption>[];\n\n  /* Set this to true to always use the non-native picker on mobile devices.\nBy default, Flatpickr utilizes native datetime widgets unless certain options (e.g. disable) are used. */\n  disableMobile: boolean;\n\n  /* Disables all dates except these specified. See https://chmln.github.io/flatpickr/examples/#disabling-all-dates-except-select-few */\n  enable: DateLimit<DateOption>[];\n\n  /* Enables seconds selection in the time picker.\n   */\n  enableSeconds: boolean;\n\n  /* Enables the time picker */\n  enableTime: boolean;\n\n  errorHandler: (e: Error) => void;\n\n  /* Allows using a custom date formatting function instead of the built-in. Generally unnecessary.  */\n  formatDate: (date: Date, format: string, locale: Locale) => string;\n\n  /* If \"weekNumbers\" are enabled, this is the function that outputs the week number for a given dates, optionally along with other text  */\n  getWeek: (date: Date) => string | number;\n\n  /*   Adjusts the step for the hour input (incl. scrolling) */\n  hourIncrement: number;\n\n  /* By default, clicking anywhere outside of calendar/input will close the calendar.\n  Clicking on elements specified in this option will not close the calendar */\n  ignoredFocusElements: HTMLElement[];\n\n  /* Displays the calendar inline */\n  inline: boolean;\n\n  /* The locale, either as a string (e.g. \"ru\", \"en\") or as an object.\n  See https://chmln.github.io/flatpickr/localization/ */\n  locale: LocaleKey | Partial<CustomLocale>;\n\n  /* The maximum date that a user can pick to (inclusive). */\n  maxDate: DateOption;\n\n  /* The maximum time that a user can pick to (inclusive). */\n  maxTime: DateOption;\n\n  /* The minimum date that a user can start picking from (inclusive). */\n  minDate: DateOption;\n\n  /* The minimum time that a user can start picking from (inclusive). */\n  minTime: DateOption;\n\n  /* Adjusts the step for the minute input (incl. scrolling)\n  Defaults to 5 */\n  minuteIncrement: number;\n\n  /* Date selection mode, defaults to \"single\" */\n  mode: \"single\" | \"multiple\" | \"range\" | \"time\";\n\n  /* How the month selector in the calendar should be shown */\n  monthSelectorType: \"dropdown\" | \"static\";\n\n  /* HTML for the right arrow icon, used to switch months. */\n  nextArrow: string;\n\n  /* Hides the day selection in calendar.\nUse it along with \"enableTime\" to create a time picker. */\n  noCalendar: boolean;\n\n  now?: DateOption;\n\n  /* Fires when the selected dates have changed - when a date is picked or cleared, by user or programmatically */\n  onChange: Hook | Hook[];\n\n  /* Fires when the calendar is closed */\n  onClose: Hook | Hook[];\n\n  /* Fires for every day cell in the calendar, where the fourth argument is the html element of the cell. See https://chmln.github.io/flatpickr/events/#ondaycreate*/\n  onDayCreate: Hook | Hook[];\n\n  /* Fires before the calendar instance is destroyed */\n  onDestroy: Hook | Hook[];\n\n  /* Fires when valid keyboard input for calendar is detected */\n  onKeyDown: Hook | Hook[];\n\n  /* Fires after the month has changed */\n  onMonthChange: Hook | Hook[];\n\n  /* Fires after the calendar is opened */\n  onOpen: Hook | Hook[];\n\n  /* Fires after the configuration for the calendar is parsed */\n  onParseConfig: Hook | Hook[];\n\n  /* Fires once the calendar instance is ready */\n  onReady: Hook | Hook[];\n\n  /* Like onChange, but fires immediately after any date changes */\n  onValueUpdate: Hook | Hook[];\n\n  /* Fires after the year has changed */\n  onYearChange: Hook | Hook[];\n\n  onPreCalendarPosition: Hook | Hook[];\n\n  /* A custom datestring parser */\n  parseDate: (date: string, format: string) => Date;\n\n  /* Plugins. See https://chmln.github.io/flatpickr/plugins/ */\n  plugins: Plugin[];\n\n  /* How the calendar should be positioned with regards to the input. Defaults to \"auto\" */\n  position:\n    | \"auto\"\n    | \"above\"\n    | \"below\"\n    | \"auto left\"\n    | \"auto center\"\n    | \"auto right\"\n    | \"above left\"\n    | \"above center\"\n    | \"above right\"\n    | \"below left\"\n    | \"below center\"\n    | \"below right\"\n    | ((self: Instance, customElement: HTMLElement | undefined) => void);\n\n  /*\n    The element off of which the calendar will be positioned.\n    Defaults to the date input\n  */\n  positionElement: Element;\n\n  /* HTML for the left arrow icon, used to switch months. */\n  prevArrow: string;\n\n  /* Whether to display the current month name in shorthand mode, e.g. \"Sep\" instead \"September\" */\n  shorthandCurrentMonth: boolean;\n\n  /* Creates a wrapper to position the calendar. Use this if the input is inside a scrollable element */\n  static: boolean;\n\n  /* Sets the number of months to show */\n  showMonths?: number;\n\n  /* Displays time picker in 24 hour mode without AM/PM selection when enabled.*/\n  time_24hr: boolean;\n\n  /* Display week numbers left of the calendar. */\n  weekNumbers: boolean;\n\n  /* See https://chmln.github.io/flatpickr/examples/#flatpickr-external-elements */\n  wrap: boolean;\n}\n\nexport type Options = Partial<BaseOptions>;\n\nexport interface ParsedOptions {\n  _disable: DateLimit<Date>[];\n  _enable?: DateLimit<Date>[];\n  _maxDate?: Date;\n  _maxTime?: Date;\n  _minDate?: Date;\n  _minTime?: Date;\n  allowInput: boolean;\n  allowInvalidPreload: boolean;\n  altFormat: string;\n  altInput: boolean;\n  altInputClass: string;\n  animate: boolean;\n  appendTo?: HTMLElement;\n  ariaDateFormat: string;\n  autoFillDefaultTime: boolean;\n  clickOpens: boolean;\n  closeOnSelect: boolean;\n  conjunction: string;\n  dateFormat: string;\n  defaultDate?: Date | Date[];\n  defaultHour: number;\n  defaultMinute: number;\n  defaultSeconds: number;\n  disable: DateLimit<Date>[];\n  disableMobile: boolean;\n  enable?: DateLimit<Date>[];\n  enableSeconds: boolean;\n  enableTime: boolean;\n  errorHandler: (err: Error) => void;\n  formatDate?: Options[\"formatDate\"];\n  getWeek: (date: Date) => string | number;\n  hourIncrement: number;\n  ignoredFocusElements: HTMLElement[];\n  inline: boolean;\n  locale: LocaleKey | CustomLocale;\n  maxDate?: Date;\n  maxTime?: Date;\n  minDate?: Date;\n  minTime?: Date;\n  minuteIncrement: number;\n  mode: BaseOptions[\"mode\"];\n  monthSelectorType: string;\n  nextArrow: string;\n  noCalendar: boolean;\n  now: Date;\n  onChange: Hook[];\n  onClose: Hook[];\n  onDayCreate: Hook[];\n  onDestroy: Hook[];\n  onKeyDown: Hook[];\n  onMonthChange: Hook[];\n  onOpen: Hook[];\n  onParseConfig: Hook[];\n  onReady: Hook[];\n  onValueUpdate: Hook[];\n  onYearChange: Hook[];\n  onPreCalendarPosition: Hook[];\n  parseDate?: BaseOptions[\"parseDate\"];\n  plugins: Plugin[];\n  position: BaseOptions[\"position\"];\n  positionElement?: HTMLElement;\n  prevArrow: string;\n  shorthandCurrentMonth: boolean;\n  showMonths: number;\n  static: boolean;\n  time_24hr: boolean;\n  weekNumbers: boolean;\n  wrap: boolean;\n}\n\nexport const defaults: ParsedOptions = {\n  _disable: [],\n  allowInput: false,\n  allowInvalidPreload: false,\n  altFormat: \"F j, Y\",\n  altInput: false,\n  altInputClass: \"form-control input\",\n  animate:\n    typeof window === \"object\" &&\n    window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n  ariaDateFormat: \"F j, Y\",\n  autoFillDefaultTime: true,\n  clickOpens: true,\n  closeOnSelect: true,\n  conjunction: \", \",\n  dateFormat: \"Y-m-d\",\n  defaultHour: 12,\n  defaultMinute: 0,\n  defaultSeconds: 0,\n  disable: [],\n  disableMobile: false,\n  enableSeconds: false,\n  enableTime: false,\n  errorHandler: (err: Error) =>\n    typeof console !== \"undefined\" && console.warn(err),\n  getWeek: (givenDate: Date) => {\n    const date = new Date(givenDate.getTime());\n    date.setHours(0, 0, 0, 0);\n\n    // Thursday in current week decides the year.\n    date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n\n    // January 4 is always in week 1.\n    var week1 = new Date(date.getFullYear(), 0, 4);\n\n    // Adjust to Thursday in week 1 and count number of weeks from date to week1.\n    return (\n      1 +\n      Math.round(\n        ((date.getTime() - week1.getTime()) / 86400000 -\n          3 +\n          ((week1.getDay() + 6) % 7)) /\n          7\n      )\n    );\n  },\n  hourIncrement: 1,\n  ignoredFocusElements: [],\n  inline: false,\n  locale: \"default\",\n  minuteIncrement: 5,\n  mode: \"single\",\n  monthSelectorType: \"dropdown\",\n  nextArrow:\n    \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n  noCalendar: false,\n  now: new Date(),\n  onChange: [],\n  onClose: [],\n  onDayCreate: [],\n  onDestroy: [],\n  onKeyDown: [],\n  onMonthChange: [],\n  onOpen: [],\n  onParseConfig: [],\n  onReady: [],\n  onValueUpdate: [],\n  onYearChange: [],\n  onPreCalendarPosition: [],\n  plugins: [],\n  position: \"auto\",\n  positionElement: undefined,\n  prevArrow:\n    \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n  shorthandCurrentMonth: false,\n  showMonths: 1,\n  static: false,\n  time_24hr: false,\n  weekNumbers: false,\n  wrap: false,\n};\n","import { Locale } from \"../types/locale\";\n\nexport const english: Locale = {\n  weekdays: {\n    shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    longhand: [\n      \"Sunday\",\n      \"Monday\",\n      \"Tuesday\",\n      \"Wednesday\",\n      \"Thursday\",\n      \"Friday\",\n      \"Saturday\",\n    ],\n  },\n  months: {\n    shorthand: [\n      \"Jan\",\n      \"Feb\",\n      \"Mar\",\n      \"Apr\",\n      \"May\",\n      \"Jun\",\n      \"Jul\",\n      \"Aug\",\n      \"Sep\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\",\n    ],\n    longhand: [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\",\n    ],\n  },\n  daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n  firstDayOfWeek: 0,\n  ordinal: (nth: number) => {\n    const s = nth % 100;\n    if (s > 3 && s < 21) return \"th\";\n    switch (s % 10) {\n      case 1:\n        return \"st\";\n      case 2:\n        return \"nd\";\n      case 3:\n        return \"rd\";\n      default:\n        return \"th\";\n    }\n  },\n  rangeSeparator: \" to \",\n  weekAbbreviation: \"Wk\",\n  scrollTitle: \"Scroll to increment\",\n  toggleTitle: \"Click to toggle\",\n  amPM: [\"AM\", \"PM\"],\n  yearAriaLabel: \"Year\",\n  monthAriaLabel: \"Month\",\n  hourAriaLabel: \"Hour\",\n  minuteAriaLabel: \"Minute\",\n  time_24hr: false,\n};\n\nexport default english;\n","export const pad = (number: string | number, length = 2) =>\n  `000${number}`.slice(length * -1);\nexport const int = (bool: boolean) => (bool === true ? 1 : 0);\n\n/* istanbul ignore next */\nexport function debounce<F extends Function>(fn: F, wait: number) {\n  let t: NodeJS.Timeout;\n  return function (this: any) {\n    const args = arguments;\n    clearTimeout(t);\n    t = setTimeout(() => fn.apply(this, args), wait);\n  };\n}\n\nexport const arrayify = <T>(obj: T | T[]): T[] =>\n  obj instanceof Array ? obj : [obj];\n\nexport type IncrementEvent = MouseEvent & { delta: number; type: \"increment\" };\n","export function toggleClass(\n  elem: HTMLElement,\n  className: string,\n  bool: boolean\n) {\n  if (bool === true) return elem.classList.add(className);\n  elem.classList.remove(className);\n}\n\nexport function createElement<T extends HTMLElement>(\n  tag: keyof HTMLElementTagNameMap,\n  className: string,\n  content?: string\n): T {\n  const e = window.document.createElement(tag) as T;\n  className = className || \"\";\n  content = content || \"\";\n\n  e.className = className;\n\n  if (content !== undefined) e.textContent = content;\n\n  return e;\n}\n\nexport function clearNode(node: HTMLElement) {\n  while (node.firstChild) node.removeChild(node.firstChild);\n}\n\nexport function findParent(\n  node: Element,\n  condition: (n: Element) => boolean\n): Element | undefined {\n  if (condition(node)) return node;\n  else if (node.parentNode)\n    return findParent(node.parentNode as Element, condition);\n\n  return undefined; // nothing found\n}\n\nexport function createNumberInput(\n  inputClassName: string,\n  opts?: Record<string, any>\n) {\n  const wrapper = createElement<HTMLDivElement>(\"div\", \"numInputWrapper\"),\n    numInput = createElement<HTMLInputElement>(\n      \"input\",\n      \"numInput \" + inputClassName\n    ),\n    arrowUp = createElement<HTMLSpanElement>(\"span\", \"arrowUp\"),\n    arrowDown = createElement<HTMLSpanElement>(\"span\", \"arrowDown\");\n\n  if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n    numInput.type = \"number\";\n  } else {\n    numInput.type = \"text\";\n    numInput.pattern = \"\\\\d*\";\n  }\n\n  if (opts !== undefined)\n    for (const key in opts) numInput.setAttribute(key, opts[key]);\n\n  wrapper.appendChild(numInput);\n  wrapper.appendChild(arrowUp);\n  wrapper.appendChild(arrowDown);\n\n  return wrapper;\n}\n\nexport function getEventTarget(event: Event): EventTarget | null {\n  try {\n    if (typeof event.composedPath === \"function\") {\n      const path = event.composedPath();\n      return path[0];\n    }\n    return event.target;\n  } catch (error) {\n    return event.target;\n  }\n}\n","import { int, pad } from \"../utils\";\nimport { Locale } from \"../types/locale\";\nimport { ParsedOptions } from \"../types/options\";\n\nexport type token =\n  | \"D\"\n  | \"F\"\n  | \"G\"\n  | \"H\"\n  | \"J\"\n  | \"K\"\n  | \"M\"\n  | \"S\"\n  | \"U\"\n  | \"W\"\n  | \"Y\"\n  | \"Z\"\n  | \"d\"\n  | \"h\"\n  | \"i\"\n  | \"j\"\n  | \"l\"\n  | \"m\"\n  | \"n\"\n  | \"s\"\n  | \"u\"\n  | \"w\"\n  | \"y\";\n\nconst doNothing = (): undefined => undefined;\n\nexport const monthToStr = (\n  monthNumber: number,\n  shorthand: boolean,\n  locale: Locale\n) => locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber];\n\nexport type RevFormatFn = (\n  date: Date,\n  data: string,\n  locale: Locale\n) => Date | void | undefined;\nexport type RevFormat = Record<string, RevFormatFn>;\nexport const revFormat: RevFormat = {\n  D: doNothing,\n  F: function (dateObj: Date, monthName: string, locale: Locale) {\n    dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n  },\n  G: (dateObj: Date, hour: string) => {\n    dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n  },\n  H: (dateObj: Date, hour: string) => {\n    dateObj.setHours(parseFloat(hour));\n  },\n  J: (dateObj: Date, day: string) => {\n    dateObj.setDate(parseFloat(day));\n  },\n  K: (dateObj: Date, amPM: string, locale: Locale) => {\n    dateObj.setHours(\n      (dateObj.getHours() % 12) +\n        12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM))\n    );\n  },\n  M: function (dateObj: Date, shortMonth: string, locale: Locale) {\n    dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n  },\n  S: (dateObj: Date, seconds: string) => {\n    dateObj.setSeconds(parseFloat(seconds));\n  },\n  U: (_: Date, unixSeconds: string) => new Date(parseFloat(unixSeconds) * 1000),\n\n  W: function (dateObj: Date, weekNum: string, locale: Locale) {\n    const weekNumber = parseInt(weekNum);\n    const date = new Date(\n      dateObj.getFullYear(),\n      0,\n      2 + (weekNumber - 1) * 7,\n      0,\n      0,\n      0,\n      0\n    );\n    date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n\n    return date;\n  },\n  Y: (dateObj: Date, year: string) => {\n    dateObj.setFullYear(parseFloat(year));\n  },\n  Z: (_: Date, ISODate: string) => new Date(ISODate),\n\n  d: (dateObj: Date, day: string) => {\n    dateObj.setDate(parseFloat(day));\n  },\n  h: (dateObj: Date, hour: string) => {\n    dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n  },\n  i: (dateObj: Date, minutes: string) => {\n    dateObj.setMinutes(parseFloat(minutes));\n  },\n  j: (dateObj: Date, day: string) => {\n    dateObj.setDate(parseFloat(day));\n  },\n  l: doNothing,\n  m: (dateObj: Date, month: string) => {\n    dateObj.setMonth(parseFloat(month) - 1);\n  },\n  n: (dateObj: Date, month: string) => {\n    dateObj.setMonth(parseFloat(month) - 1);\n  },\n  s: (dateObj: Date, seconds: string) => {\n    dateObj.setSeconds(parseFloat(seconds));\n  },\n  u: (_: Date, unixMillSeconds: string) =>\n    new Date(parseFloat(unixMillSeconds)),\n  w: doNothing,\n  y: (dateObj: Date, year: string) => {\n    dateObj.setFullYear(2000 + parseFloat(year));\n  },\n};\n\nexport type TokenRegex = { [k in token]: string };\nexport const tokenRegex: TokenRegex = {\n  D: \"\", // locale-dependent, setup on runtime\n  F: \"\", // locale-dependent, setup on runtime\n  G: \"(\\\\d\\\\d|\\\\d)\",\n  H: \"(\\\\d\\\\d|\\\\d)\",\n  J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n  K: \"\", // locale-dependent, setup on runtime\n  M: \"\", // locale-dependent, setup on runtime\n  S: \"(\\\\d\\\\d|\\\\d)\",\n  U: \"(.+)\",\n  W: \"(\\\\d\\\\d|\\\\d)\",\n  Y: \"(\\\\d{4})\",\n  Z: \"(.+)\",\n  d: \"(\\\\d\\\\d|\\\\d)\",\n  h: \"(\\\\d\\\\d|\\\\d)\",\n  i: \"(\\\\d\\\\d|\\\\d)\",\n  j: \"(\\\\d\\\\d|\\\\d)\",\n  l: \"\", // locale-dependent, setup on runtime\n  m: \"(\\\\d\\\\d|\\\\d)\",\n  n: \"(\\\\d\\\\d|\\\\d)\",\n  s: \"(\\\\d\\\\d|\\\\d)\",\n  u: \"(.+)\",\n  w: \"(\\\\d\\\\d|\\\\d)\",\n  y: \"(\\\\d{2})\",\n};\n\nexport type Formats = Record<\n  token,\n  (date: Date, locale: Locale, options: ParsedOptions) => string | number\n>;\nexport const formats: Formats = {\n  // get the date in UTC\n  Z: (date: Date) => date.toISOString(),\n\n  // weekday name, short, e.g. Thu\n  D: function (date: Date, locale: Locale, options: ParsedOptions) {\n    return locale.weekdays.shorthand[\n      formats.w(date, locale, options) as number\n    ];\n  },\n\n  // full month name e.g. January\n  F: function (date: Date, locale: Locale, options: ParsedOptions) {\n    return monthToStr(\n      (formats.n(date, locale, options) as number) - 1,\n      false,\n      locale\n    );\n  },\n\n  // padded hour 1-12\n  G: function (date: Date, locale: Locale, options: ParsedOptions) {\n    return pad(formats.h(date, locale, options));\n  },\n\n  // hours with leading zero e.g. 03\n  H: (date: Date) => pad(date.getHours()),\n\n  // day (1-30) with ordinal suffix e.g. 1st, 2nd\n  J: function (date: Date, locale: Locale) {\n    return locale.ordinal !== undefined\n      ? date.getDate() + locale.ordinal(date.getDate())\n      : date.getDate();\n  },\n\n  // AM/PM\n  K: (date: Date, locale: Locale) => locale.amPM[int(date.getHours() > 11)],\n\n  // shorthand month e.g. Jan, Sep, Oct, etc\n  M: function (date: Date, locale: Locale) {\n    return monthToStr(date.getMonth(), true, locale);\n  },\n\n  // seconds 00-59\n  S: (date: Date) => pad(date.getSeconds()),\n\n  // unix timestamp\n  U: (date: Date) => date.getTime() / 1000,\n\n  W: function (date: Date, _: Locale, options: ParsedOptions) {\n    return options.getWeek(date);\n  },\n\n  // full year e.g. 2016, padded (0001-9999)\n  Y: (date: Date) => pad(date.getFullYear(), 4),\n\n  // day in month, padded (01-30)\n  d: (date: Date) => pad(date.getDate()),\n\n  // hour from 1-12 (am/pm)\n  h: (date: Date) => (date.getHours() % 12 ? date.getHours() % 12 : 12),\n\n  // minutes, padded with leading zero e.g. 09\n  i: (date: Date) => pad(date.getMinutes()),\n\n  // day in month (1-30)\n  j: (date: Date) => date.getDate(),\n\n  // weekday name, full, e.g. Thursday\n  l: function (date: Date, locale: Locale) {\n    return locale.weekdays.longhand[date.getDay()];\n  },\n\n  // padded month number (01-12)\n  m: (date: Date) => pad(date.getMonth() + 1),\n\n  // the month number (1-12)\n  n: (date: Date) => date.getMonth() + 1,\n\n  // seconds 0-59\n  s: (date: Date) => date.getSeconds(),\n\n  // Unix Milliseconds\n  u: (date: Date) => date.getTime(),\n\n  // number of the day of the week\n  w: (date: Date) => date.getDay(),\n\n  // last two digits of year e.g. 16 for 2016\n  y: (date: Date) => String(date.getFullYear()).substring(2),\n};\n","import { Locale } from \"../types/locale\";\nimport {\n  tokenRegex,\n  RevFormatFn,\n  token,\n  revFormat,\n  formats,\n} from \"./formatting\";\nimport { defaults, ParsedOptions } from \"../types/options\";\nimport { english } from \"../l10n/default\";\n\nexport interface FormatterArgs {\n  config?: ParsedOptions;\n  l10n?: Locale;\n  isMobile?: boolean;\n}\n\nexport const createDateFormatter = ({\n  config = defaults,\n  l10n = english,\n  isMobile = false,\n}: FormatterArgs) => (\n  dateObj: Date,\n  frmt: string,\n  overrideLocale?: Locale\n): string => {\n  const locale = overrideLocale || l10n;\n\n  if (config.formatDate !== undefined && !isMobile) {\n    return config.formatDate(dateObj, frmt, locale);\n  }\n\n  return frmt\n    .split(\"\")\n    .map((c, i, arr) =>\n      formats[c as token] && arr[i - 1] !== \"\\\\\"\n        ? formats[c as token](dateObj, locale, config)\n        : c !== \"\\\\\"\n        ? c\n        : \"\"\n    )\n    .join(\"\");\n};\n\nexport const createDateParser = ({ config = defaults, l10n = english }) => (\n  date: Date | string | number,\n  givenFormat?: string,\n  timeless?: boolean,\n  customLocale?: Locale\n): Date | undefined => {\n  if (date !== 0 && !date) return undefined;\n\n  const locale = customLocale || l10n;\n\n  let parsedDate: Date | undefined;\n  const dateOrig = date;\n\n  if (date instanceof Date) parsedDate = new Date(date.getTime());\n  else if (\n    typeof date !== \"string\" &&\n    date.toFixed !== undefined // timestamp\n  )\n    // create a copy\n\n    parsedDate = new Date(date);\n  else if (typeof date === \"string\") {\n    // date string\n    const format = givenFormat || (config || defaults).dateFormat;\n    const datestr = String(date).trim();\n\n    if (datestr === \"today\") {\n      parsedDate = new Date();\n      timeless = true;\n    } else if (config && config.parseDate) {\n      parsedDate = config.parseDate(date, format);\n    } else if (\n      /Z$/.test(datestr) ||\n      /GMT$/.test(datestr) // datestrings w/ timezone\n    ) {\n      parsedDate = new Date(date);\n    } else {\n      let matched,\n        ops: { fn: RevFormatFn; val: string }[] = [];\n\n      for (let i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n        const token = format[i] as token;\n        const isBackSlash = (token as string) === \"\\\\\";\n        const escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n\n        if (tokenRegex[token] && !escaped) {\n          regexStr += tokenRegex[token];\n          const match = new RegExp(regexStr).exec(date);\n          if (match && (matched = true)) {\n            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n              fn: revFormat[token],\n              val: match[++matchIndex],\n            });\n          }\n        } else if (!isBackSlash) regexStr += \".\"; // don't really care\n      }\n\n      parsedDate =\n        !config || !config.noCalendar\n          ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n          : (new Date(new Date().setHours(0, 0, 0, 0)) as Date);\n\n      ops.forEach(\n        ({ fn, val }) =>\n          (parsedDate = fn(parsedDate as Date, val, locale) || parsedDate)\n      );\n\n      parsedDate = matched ? parsedDate : undefined;\n    }\n  }\n\n  /* istanbul ignore next */\n  if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n    config.errorHandler(new Error(`Invalid date provided: ${dateOrig}`));\n    return undefined;\n  }\n\n  if (timeless === true) parsedDate.setHours(0, 0, 0, 0);\n\n  return parsedDate;\n};\n\n/**\n * Compute the difference in dates, measured in ms\n */\nexport function compareDates(date1: Date, date2: Date, timeless = true) {\n  if (timeless !== false) {\n    return (\n      new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n      new Date(date2.getTime()).setHours(0, 0, 0, 0)\n    );\n  }\n\n  return date1.getTime() - date2.getTime();\n}\n\n/**\n * Compute the difference in times, measured in ms\n */\nexport function compareTimes(date1: Date, date2: Date) {\n  return (\n    3600 * (date1.getHours() - date2.getHours()) +\n    60 * (date1.getMinutes() - date2.getMinutes()) +\n    date1.getSeconds() -\n    date2.getSeconds()\n  );\n}\n\nexport const isBetween = (ts: number, ts1: number, ts2: number) => {\n  return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\n\nexport const calculateSecondsSinceMidnight = (\n  hours: number,\n  minutes: number,\n  seconds: number\n) => {\n  return hours * 3600 + minutes * 60 + seconds;\n};\n\nexport const parseSeconds = (secondsSinceMidnight: number) => {\n  const hours = Math.floor(secondsSinceMidnight / 3600),\n    minutes = (secondsSinceMidnight - hours * 3600) / 60;\n  return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\n\nexport const duration = {\n  DAY: 86400000,\n};\n\nexport function getDefaultHours(config: ParsedOptions) {\n  let hours = config.defaultHour;\n  let minutes = config.defaultMinute;\n  let seconds = config.defaultSeconds;\n\n  if (config.minDate !== undefined) {\n    const minHour = config.minDate.getHours();\n    const minMinutes = config.minDate.getMinutes();\n    const minSeconds = config.minDate.getSeconds();\n\n    if (hours < minHour) {\n      hours = minHour;\n    }\n\n    if (hours === minHour && minutes < minMinutes) {\n      minutes = minMinutes;\n    }\n\n    if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n      seconds = config.minDate.getSeconds();\n  }\n\n  if (config.maxDate !== undefined) {\n    const maxHr = config.maxDate.getHours();\n    const maxMinutes = config.maxDate.getMinutes();\n    hours = Math.min(hours, maxHr);\n\n    if (hours === maxHr) minutes = Math.min(maxMinutes, minutes);\n    if (hours === maxHr && minutes === maxMinutes)\n      seconds = config.maxDate.getSeconds();\n  }\n\n  return { hours, minutes, seconds };\n}\n","if (typeof Object.assign !== \"function\") {\n  Object.assign = function (\n    target: Record<string, any>,\n    ...args: Record<string, any>[]\n  ) {\n    if (!target) {\n      throw TypeError(\"Cannot convert undefined or null to object\");\n    }\n    for (const source of args) {\n      if (source) {\n        Object.keys(source).forEach((key) => (target[key] = source[key]));\n      }\n    }\n    return target;\n  };\n}\n","import { Instance, FlatpickrFn, DayElement } from \"./types/instance\";\nimport {\n  Options,\n  ParsedOptions,\n  DateLimit,\n  DateRangeLimit,\n  DateOption,\n  defaults as defaultOptions,\n  Hook,\n  HookKey,\n  HOOKS,\n} from \"./types/options\";\n\nimport { Locale, CustomLocale, key as LocaleKey } from \"./types/locale\";\nimport English from \"./l10n/default\";\n\nimport { arrayify, debounce, int, pad, IncrementEvent } from \"./utils\";\nimport {\n  clearNode,\n  createElement,\n  createNumberInput,\n  findParent,\n  toggleClass,\n  getEventTarget,\n} from \"./utils/dom\";\nimport {\n  compareDates,\n  createDateParser,\n  createDateFormatter,\n  duration,\n  isBetween,\n  getDefaultHours,\n  calculateSecondsSinceMidnight,\n  parseSeconds,\n} from \"./utils/dates\";\n\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\n\nimport \"./utils/polyfills\";\n\nconst DEBOUNCED_CHANGE_MS = 300;\n\nfunction FlatpickrInstance(\n  element: HTMLElement,\n  instanceConfig?: Options\n): Instance {\n  const self = {\n    config: {\n      ...defaultOptions,\n      ...flatpickr.defaultConfig,\n    } as ParsedOptions,\n    l10n: English,\n  } as Instance;\n  self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n\n  self._handlers = [];\n  self.pluginElements = [];\n  self.loadedPlugins = [];\n  self._bind = bind;\n  self._setHoursFromDate = setHoursFromDate;\n  self._positionCalendar = positionCalendar;\n\n  self.changeMonth = changeMonth;\n  self.changeYear = changeYear;\n  self.clear = clear;\n  self.close = close;\n  self.onMouseOver = onMouseOver;\n\n  self._createElement = createElement;\n  self.createDay = createDay;\n  self.destroy = destroy;\n  self.isEnabled = isEnabled;\n  self.jumpToDate = jumpToDate;\n  self.updateValue = updateValue;\n  self.open = open;\n  self.redraw = redraw;\n  self.set = set;\n  self.setDate = setDate;\n  self.toggle = toggle;\n\n  function setupHelperFunctions() {\n    self.utils = {\n      getDaysInMonth(month = self.currentMonth, yr = self.currentYear) {\n        if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n          return 29;\n\n        return self.l10n.daysInMonth[month];\n      },\n    };\n  }\n\n  function init() {\n    self.element = self.input = element as HTMLInputElement;\n    self.isOpen = false;\n\n    parseConfig();\n    setupLocale();\n    setupInputs();\n    setupDates();\n    setupHelperFunctions();\n\n    if (!self.isMobile) build();\n\n    bindEvents();\n\n    if (self.selectedDates.length || self.config.noCalendar) {\n      if (self.config.enableTime) {\n        setHoursFromDate(\n          self.config.noCalendar ? self.latestSelectedDateObj : undefined\n        );\n      }\n      updateValue(false);\n    }\n\n    setCalendarWidth();\n\n    const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\n    /* TODO: investigate this further\n\n      Currently, there is weird positioning behavior in safari causing pages\n      to scroll up. https://github.com/chmln/flatpickr/issues/563\n\n      However, most browsers are not Safari and positioning is expensive when used\n      in scale. https://github.com/chmln/flatpickr/issues/1096\n    */\n    if (!self.isMobile && isSafari) {\n      positionCalendar();\n    }\n\n    triggerEvent(\"onReady\");\n  }\n\n  function getClosestActiveElement() {\n    return (\n      ((self.calendarContainer?.getRootNode() as unknown) as DocumentOrShadowRoot)\n        .activeElement || document.activeElement\n    );\n  }\n\n  function bindToInstance<F extends Function>(fn: F): F {\n    return fn.bind(self);\n  }\n\n  function setCalendarWidth() {\n    const config = self.config;\n\n    if (config.weekNumbers === false && config.showMonths === 1) {\n      return;\n    } else if (config.noCalendar !== true) {\n      window.requestAnimationFrame(function () {\n        if (self.calendarContainer !== undefined) {\n          self.calendarContainer.style.visibility = \"hidden\";\n          self.calendarContainer.style.display = \"block\";\n        }\n        if (self.daysContainer !== undefined) {\n          const daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n\n          self.daysContainer.style.width = daysWidth + \"px\";\n\n          self.calendarContainer.style.width =\n            daysWidth +\n            (self.weekWrapper !== undefined\n              ? self.weekWrapper.offsetWidth\n              : 0) +\n            \"px\";\n\n          self.calendarContainer.style.removeProperty(\"visibility\");\n          self.calendarContainer.style.removeProperty(\"display\");\n        }\n      });\n    }\n  }\n\n  /**\n   * The handler for all events targeting the time inputs\n   */\n  function updateTime(\n    e?: MouseEvent | IncrementEvent | KeyboardEvent | FocusEvent\n  ) {\n    if (self.selectedDates.length === 0) {\n      const defaultDate =\n        self.config.minDate === undefined ||\n        compareDates(new Date(), self.config.minDate) >= 0\n          ? new Date()\n          : new Date(self.config.minDate.getTime());\n\n      const defaults = getDefaultHours(self.config);\n      defaultDate.setHours(\n        defaults.hours,\n        defaults.minutes,\n        defaults.seconds,\n        defaultDate.getMilliseconds()\n      );\n\n      self.selectedDates = [defaultDate];\n      self.latestSelectedDateObj = defaultDate;\n    }\n    if (e !== undefined && e.type !== \"blur\") {\n      timeWrapper(e);\n    }\n\n    const prevValue = self._input.value;\n\n    setHoursFromInputs();\n    updateValue();\n\n    if (self._input.value !== prevValue) {\n      self._debouncedChange();\n    }\n  }\n\n  function ampm2military(hour: number, amPM: string) {\n    return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n  }\n\n  function military2ampm(hour: number) {\n    switch (hour % 24) {\n      case 0:\n      case 12:\n        return 12;\n\n      default:\n        return hour % 12;\n    }\n  }\n\n  /**\n   * Syncs the selected date object time with user's time input\n   */\n  function setHoursFromInputs() {\n    if (self.hourElement === undefined || self.minuteElement === undefined)\n      return;\n\n    let hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24,\n      minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60,\n      seconds =\n        self.secondElement !== undefined\n          ? (parseInt(self.secondElement.value, 10) || 0) % 60\n          : 0;\n\n    if (self.amPM !== undefined) {\n      hours = ampm2military(hours, self.amPM.textContent as string);\n    }\n\n    const limitMinHours =\n      self.config.minTime !== undefined ||\n      (self.config.minDate &&\n        self.minDateHasTime &&\n        self.latestSelectedDateObj &&\n        compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n          0);\n\n    const limitMaxHours =\n      self.config.maxTime !== undefined ||\n      (self.config.maxDate &&\n        self.maxDateHasTime &&\n        self.latestSelectedDateObj &&\n        compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n          0);\n\n    if (\n      self.config.maxTime !== undefined &&\n      self.config.minTime !== undefined &&\n      self.config.minTime > self.config.maxTime\n    ) {\n      const minBound = calculateSecondsSinceMidnight(\n        self.config.minTime.getHours(),\n        self.config.minTime.getMinutes(),\n        self.config.minTime.getSeconds()\n      );\n      const maxBound = calculateSecondsSinceMidnight(\n        self.config.maxTime.getHours(),\n        self.config.maxTime.getMinutes(),\n        self.config.maxTime.getSeconds()\n      );\n      const currentTime = calculateSecondsSinceMidnight(\n        hours,\n        minutes,\n        seconds\n      );\n\n      if (currentTime > maxBound && currentTime < minBound) {\n        const result = parseSeconds(minBound);\n        hours = result[0];\n        minutes = result[1];\n        seconds = result[2];\n      }\n    } else {\n      if (limitMaxHours) {\n        const maxTime =\n          self.config.maxTime !== undefined\n            ? self.config.maxTime\n            : (self.config.maxDate as Date);\n        hours = Math.min(hours, maxTime.getHours());\n        if (hours === maxTime.getHours())\n          minutes = Math.min(minutes, maxTime.getMinutes());\n\n        if (minutes === maxTime.getMinutes())\n          seconds = Math.min(seconds, maxTime.getSeconds());\n      }\n\n      if (limitMinHours) {\n        const minTime =\n          self.config.minTime !== undefined\n            ? self.config.minTime\n            : self.config.minDate!;\n\n        hours = Math.max(hours, minTime.getHours());\n        if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n          minutes = minTime.getMinutes();\n\n        if (minutes === minTime.getMinutes())\n          seconds = Math.max(seconds, minTime.getSeconds());\n      }\n    }\n\n    setHours(hours, minutes, seconds);\n  }\n\n  /**\n   * Syncs time input values with a date\n   */\n  function setHoursFromDate(dateObj?: Date) {\n    const date = dateObj || self.latestSelectedDateObj;\n\n    if (date && date instanceof Date) {\n      setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n    }\n  }\n\n  /**\n   * Sets the hours, minutes, and optionally seconds\n   * of the latest selected date object and the\n   * corresponding time inputs\n   * @param {Number} hours the hour. whether its military\n   *                 or am-pm gets inferred from config\n   * @param {Number} minutes the minutes\n   * @param {Number} seconds the seconds (optional)\n   */\n  function setHours(hours: number, minutes: number, seconds: number) {\n    if (self.latestSelectedDateObj !== undefined) {\n      self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n    }\n\n    if (!self.hourElement || !self.minuteElement || self.isMobile) return;\n\n    self.hourElement.value = pad(\n      !self.config.time_24hr\n        ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n        : hours\n    );\n\n    self.minuteElement.value = pad(minutes);\n\n    if (self.amPM !== undefined)\n      self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n\n    if (self.secondElement !== undefined)\n      self.secondElement.value = pad(seconds);\n  }\n\n  /**\n   * Handles the year input and incrementing events\n   * @param {Event} event the keyup or increment event\n   */\n  function onYearInput(event: KeyboardEvent & IncrementEvent) {\n    const eventTarget = getEventTarget(event) as HTMLInputElement;\n    const year = parseInt(eventTarget.value) + (event.delta || 0);\n\n    if (\n      year / 1000 > 1 ||\n      (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))\n    ) {\n      changeYear(year);\n    }\n  }\n\n  /**\n   * Essentially addEventListener + tracking\n   * @param {Element} element the element to addEventListener to\n   * @param {String} event the event name\n   * @param {Function} handler the event handler\n   */\n  function bind<E extends Element | Window | Document>(\n    element: E | E[],\n    event: string | string[],\n    handler: (e?: any) => void,\n    options?: { capture?: boolean; once?: boolean; passive?: boolean }\n  ): void {\n    if (event instanceof Array)\n      return event.forEach((ev) => bind(element, ev, handler, options));\n\n    if (element instanceof Array)\n      return element.forEach((el) => bind(el, event, handler, options));\n\n    element.addEventListener(event, handler, options);\n    self._handlers.push({\n      remove: () => element.removeEventListener(event, handler, options),\n    });\n  }\n\n  function triggerChange() {\n    triggerEvent(\"onChange\");\n  }\n\n  /**\n   * Adds all the necessary event listeners\n   */\n  function bindEvents(): void {\n    if (self.config.wrap) {\n      [\"open\", \"close\", \"toggle\", \"clear\"].forEach((evt) => {\n        Array.prototype.forEach.call(\n          self.element.querySelectorAll(`[data-${evt}]`),\n          (el: HTMLElement) =>\n            bind(\n              el,\n              \"click\",\n              self[evt as \"open\" | \"close\" | \"toggle\" | \"clear\"]\n            )\n        );\n      });\n    }\n\n    if (self.isMobile) {\n      setupMobile();\n      return;\n    }\n\n    const debouncedResize = debounce(onResize, 50);\n    self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n\n    if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n      bind(self.daysContainer, \"mouseover\", (e: MouseEvent) => {\n        if (self.config.mode === \"range\")\n          onMouseOver(getEventTarget(e) as DayElement);\n      });\n\n    bind(self._input, \"keydown\", onKeyDown);\n    if (self.calendarContainer !== undefined) {\n      bind(self.calendarContainer, \"keydown\", onKeyDown);\n    }\n\n    if (!self.config.inline && !self.config.static)\n      bind(window, \"resize\", debouncedResize);\n\n    if (window.ontouchstart !== undefined)\n      bind(window.document, \"touchstart\", documentClick);\n    else bind(window.document, \"mousedown\", documentClick);\n    bind(window.document, \"focus\", documentClick, { capture: true });\n\n    if (self.config.clickOpens === true) {\n      bind(self._input, \"focus\", self.open);\n      bind(self._input, \"click\", self.open);\n    }\n\n    if (self.daysContainer !== undefined) {\n      bind(self.monthNav, \"click\", onMonthNavClick);\n\n      bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n      bind(self.daysContainer, \"click\", selectDate);\n    }\n\n    if (\n      self.timeContainer !== undefined &&\n      self.minuteElement !== undefined &&\n      self.hourElement !== undefined\n    ) {\n      const selText = (e: FocusEvent) =>\n        (getEventTarget(e) as HTMLInputElement).select();\n      bind(self.timeContainer, [\"increment\"], updateTime);\n      bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n      bind(self.timeContainer, \"click\", timeIncrement);\n\n      bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n\n      if (self.secondElement !== undefined)\n        bind(\n          self.secondElement,\n          \"focus\",\n          () => self.secondElement && self.secondElement.select()\n        );\n\n      if (self.amPM !== undefined) {\n        bind(self.amPM, \"click\", (e) => {\n          updateTime(e);\n        });\n      }\n    }\n\n    if (self.config.allowInput) {\n      bind(self._input, \"blur\", onBlur);\n    }\n  }\n\n  /**\n   * Set the calendar view to a particular date.\n   * @param {Date} jumpDate the date to set the view to\n   * @param {boolean} triggerChange if change events should be triggered\n   */\n  function jumpToDate(jumpDate?: DateOption, triggerChange?: boolean) {\n    const jumpTo =\n      jumpDate !== undefined\n        ? self.parseDate(jumpDate)\n        : self.latestSelectedDateObj ||\n          (self.config.minDate && self.config.minDate > self.now\n            ? self.config.minDate\n            : self.config.maxDate && self.config.maxDate < self.now\n            ? self.config.maxDate\n            : self.now);\n\n    const oldYear = self.currentYear;\n    const oldMonth = self.currentMonth;\n\n    try {\n      if (jumpTo !== undefined) {\n        self.currentYear = jumpTo.getFullYear();\n        self.currentMonth = jumpTo.getMonth();\n      }\n    } catch (e) {\n      /* istanbul ignore next */\n      e.message = \"Invalid date supplied: \" + jumpTo;\n      self.config.errorHandler(e);\n    }\n\n    if (triggerChange && self.currentYear !== oldYear) {\n      triggerEvent(\"onYearChange\");\n      buildMonthSwitch();\n    }\n\n    if (\n      triggerChange &&\n      (self.currentYear !== oldYear || self.currentMonth !== oldMonth)\n    ) {\n      triggerEvent(\"onMonthChange\");\n    }\n\n    self.redraw();\n  }\n\n  /**\n   * The up/down arrow handler for time inputs\n   * @param {Event} e the click event\n   */\n  function timeIncrement(e: KeyboardEvent | MouseEvent) {\n    const eventTarget = getEventTarget(e) as Element;\n    if (~eventTarget.className.indexOf(\"arrow\"))\n      incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n  }\n\n  /**\n   * Increments/decrements the value of input associ-\n   * ated with the up/down arrow by dispatching an\n   * \"increment\" event on the input.\n   *\n   * @param {Event} e the click event\n   * @param {Number} delta the diff (usually 1 or -1)\n   * @param {Element} inputElem the input element\n   */\n  function incrementNumInput(\n    e: KeyboardEvent | MouseEvent | undefined,\n    delta: number,\n    inputElem?: HTMLInputElement\n  ) {\n    const target = e && (getEventTarget(e) as Element);\n    const input =\n      inputElem ||\n      (target && target.parentNode && target.parentNode.firstChild);\n    const event = createEvent(\"increment\") as IncrementEvent;\n    event.delta = delta;\n    input && input.dispatchEvent(event);\n  }\n\n  function build() {\n    const fragment = window.document.createDocumentFragment();\n    self.calendarContainer = createElement<HTMLDivElement>(\n      \"div\",\n      \"flatpickr-calendar\"\n    );\n    self.calendarContainer.tabIndex = -1;\n\n    if (!self.config.noCalendar) {\n      fragment.appendChild(buildMonthNav());\n      self.innerContainer = createElement<HTMLDivElement>(\n        \"div\",\n        \"flatpickr-innerContainer\"\n      );\n\n      if (self.config.weekNumbers) {\n        const { weekWrapper, weekNumbers } = buildWeeks();\n        self.innerContainer.appendChild(weekWrapper);\n        self.weekNumbers = weekNumbers;\n        self.weekWrapper = weekWrapper;\n      }\n\n      self.rContainer = createElement<HTMLDivElement>(\n        \"div\",\n        \"flatpickr-rContainer\"\n      );\n      self.rContainer.appendChild(buildWeekdays());\n\n      if (!self.daysContainer) {\n        self.daysContainer = createElement<HTMLDivElement>(\n          \"div\",\n          \"flatpickr-days\"\n        );\n        self.daysContainer.tabIndex = -1;\n      }\n\n      buildDays();\n\n      self.rContainer.appendChild(self.daysContainer);\n      self.innerContainer.appendChild(self.rContainer);\n      fragment.appendChild(self.innerContainer);\n    }\n\n    if (self.config.enableTime) {\n      fragment.appendChild(buildTime());\n    }\n    //Close button Div\n    fragment.appendChild(buildCloseDiv());\n\n    toggleClass(\n      self.calendarContainer,\n      \"rangeMode\",\n      self.config.mode === \"range\"\n    );\n\n    toggleClass(\n      self.calendarContainer,\n      \"animate\",\n      self.config.animate === true\n    );\n\n    toggleClass(\n      self.calendarContainer,\n      \"multiMonth\",\n      self.config.showMonths > 1\n    );\n\n    self.calendarContainer.appendChild(fragment);\n\n    const customAppend =\n      self.config.appendTo !== undefined &&\n      self.config.appendTo.nodeType !== undefined;\n\n    if (self.config.inline || self.config.static) {\n      self.calendarContainer.classList.add(\n        self.config.inline ? \"inline\" : \"static\"\n      );\n\n      if (self.config.inline) {\n        if (!customAppend && self.element.parentNode)\n          self.element.parentNode.insertBefore(\n            self.calendarContainer,\n            self._input.nextSibling\n          );\n        else if (self.config.appendTo !== undefined)\n          self.config.appendTo.appendChild(self.calendarContainer);\n      }\n\n      if (self.config.static) {\n        const wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n        if (self.element.parentNode)\n          self.element.parentNode.insertBefore(wrapper, self.element);\n        wrapper.appendChild(self.element);\n\n        if (self.altInput) wrapper.appendChild(self.altInput);\n\n        wrapper.appendChild(self.calendarContainer);\n      }\n    }\n\n    if (!self.config.static && !self.config.inline)\n      (self.config.appendTo !== undefined\n        ? self.config.appendTo\n        : window.document.body\n      ).appendChild(self.calendarContainer);\n  }\n\n  function createDay(\n    className: string,\n    date: Date,\n    _dayNumber: number,\n    i: number\n  ) {\n    const dateIsEnabled = isEnabled(date, true),\n      dayElement = createElement<DayElement>(\n        \"span\",\n        className,\n        date.getDate().toString()\n      );\n\n    dayElement.dateObj = date;\n    dayElement.$i = i;\n    dayElement.setAttribute(\n      \"aria-label\",\n      self.formatDate(date, self.config.ariaDateFormat)\n    );\n\n    if (\n      className.indexOf(\"hidden\") === -1 &&\n      compareDates(date, self.now) === 0\n    ) {\n      self.todayDateElem = dayElement;\n      dayElement.classList.add(\"today\");\n      dayElement.setAttribute(\"aria-current\", \"date\");\n    }\n\n    if (dateIsEnabled) {\n      dayElement.tabIndex = -1;\n      if (isDateSelected(date)) {\n        dayElement.classList.add(\"selected\");\n        self.selectedDateElem = dayElement;\n\n        if (self.config.mode === \"range\") {\n          toggleClass(\n            dayElement,\n            \"startRange\",\n            self.selectedDates[0] &&\n              compareDates(date, self.selectedDates[0], true) === 0\n          );\n\n          toggleClass(\n            dayElement,\n            \"endRange\",\n            self.selectedDates[1] &&\n              compareDates(date, self.selectedDates[1], true) === 0\n          );\n\n          if (className === \"nextMonthDay\") dayElement.classList.add(\"inRange\");\n        }\n      }\n    } else {\n      dayElement.classList.add(\"flatpickr-disabled\");\n    }\n\n    if (self.config.mode === \"range\") {\n      if (isDateInRange(date) && !isDateSelected(date))\n        dayElement.classList.add(\"inRange\");\n    }\n\n    if (\n      self.weekNumbers &&\n      self.config.showMonths === 1 &&\n      className !== \"prevMonthDay\" &&\n      i % 7 === 6\n    ) {\n      self.weekNumbers.insertAdjacentHTML(\n        \"beforeend\",\n        \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\"\n      );\n    }\n\n    triggerEvent(\"onDayCreate\", dayElement);\n\n    return dayElement;\n  }\n\n  function focusOnDayElem(targetNode: DayElement) {\n    targetNode.focus();\n    if (self.config.mode === \"range\") onMouseOver(targetNode);\n  }\n\n  function getFirstAvailableDay(delta: number) {\n    const startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n    const endMonth = delta > 0 ? self.config.showMonths : -1;\n\n    for (let m = startMonth; m != endMonth; m += delta) {\n      const month = (self.daysContainer as HTMLDivElement).children[m];\n      const startIndex = delta > 0 ? 0 : month.children.length - 1;\n      const endIndex = delta > 0 ? month.children.length : -1;\n\n      for (let i = startIndex; i != endIndex; i += delta) {\n        const c = month.children[i] as DayElement;\n        if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n          return c;\n      }\n    }\n    return undefined;\n  }\n\n  function getNextAvailableDay(current: DayElement, delta: number) {\n    const givenMonth =\n      current.className.indexOf(\"Month\") === -1\n        ? current.dateObj.getMonth()\n        : self.currentMonth;\n    const endMonth = delta > 0 ? self.config.showMonths : -1;\n    const loopDelta = delta > 0 ? 1 : -1;\n\n    for (\n      let m = givenMonth - self.currentMonth;\n      m != endMonth;\n      m += loopDelta\n    ) {\n      const month = (self.daysContainer as HTMLDivElement).children[m];\n      const startIndex =\n        givenMonth - self.currentMonth === m\n          ? current.$i + delta\n          : delta < 0\n          ? month.children.length - 1\n          : 0;\n      const numMonthDays = month.children.length;\n\n      for (\n        let i = startIndex;\n        i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1);\n        i += loopDelta\n      ) {\n        const c = month.children[i] as DayElement;\n        if (\n          c.className.indexOf(\"hidden\") === -1 &&\n          isEnabled(c.dateObj) &&\n          Math.abs(current.$i - i) >= Math.abs(delta)\n        )\n          return focusOnDayElem(c);\n      }\n    }\n\n    self.changeMonth(loopDelta);\n    focusOnDay(getFirstAvailableDay(loopDelta), 0);\n    return undefined;\n  }\n\n  function focusOnDay(current: DayElement | undefined, offset: number) {\n    const activeElement = getClosestActiveElement();\n\n    const dayFocused = isInView(activeElement || document.body);\n    const startElem =\n      current !== undefined\n        ? current\n        : dayFocused\n        ? (activeElement as DayElement)\n        : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n        ? self.selectedDateElem\n        : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n        ? self.todayDateElem\n        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n\n    if (startElem === undefined) {\n      self._input.focus();\n    } else if (!dayFocused) {\n      focusOnDayElem(startElem);\n    } else {\n      getNextAvailableDay(startElem, offset);\n    }\n  }\n\n  function buildMonthDays(year: number, month: number) {\n    const firstOfMonth =\n      (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n\n    const prevMonthDays = self.utils.getDaysInMonth(\n      (month - 1 + 12) % 12,\n      year\n    );\n\n    const daysInMonth = self.utils.getDaysInMonth(month, year),\n      days = window.document.createDocumentFragment(),\n      isMultiMonth = self.config.showMonths > 1,\n      prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\",\n      nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n\n    let dayNumber = prevMonthDays + 1 - firstOfMonth,\n      dayIndex = 0;\n\n    // prepend days from the ending of previous month\n    for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n      days.appendChild(\n        createDay(\n          `flatpickr-day ${prevMonthDayClass}`,\n          new Date(year, month - 1, dayNumber),\n          dayNumber,\n          dayIndex\n        )\n      );\n    }\n\n    // Start at 1 since there is no 0th day\n    for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n      days.appendChild(\n        createDay(\n          \"flatpickr-day\",\n          new Date(year, month, dayNumber),\n          dayNumber,\n          dayIndex\n        )\n      );\n    }\n\n    // append days from the next month\n    for (\n      let dayNum = daysInMonth + 1;\n      dayNum <= 42 - firstOfMonth &&\n      (self.config.showMonths === 1 || dayIndex % 7 !== 0);\n      dayNum++, dayIndex++\n    ) {\n      days.appendChild(\n        createDay(\n          `flatpickr-day ${nextMonthDayClass}`,\n          new Date(year, month + 1, dayNum % daysInMonth),\n          dayNum,\n          dayIndex\n        )\n      );\n    }\n\n    //updateNavigationCurrentMonth();\n\n    const dayContainer = createElement<HTMLDivElement>(\"div\", \"dayContainer\");\n    dayContainer.appendChild(days);\n\n    return dayContainer;\n  }\n\n  function buildDays() {\n    if (self.daysContainer === undefined) {\n      return;\n    }\n\n    clearNode(self.daysContainer);\n\n    // TODO: week numbers for each month\n    if (self.weekNumbers) clearNode(self.weekNumbers);\n\n    const frag = document.createDocumentFragment();\n\n    for (let i = 0; i < self.config.showMonths; i++) {\n      const d = new Date(self.currentYear, self.currentMonth, 1);\n      d.setMonth(self.currentMonth + i);\n\n      frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n    }\n\n    self.daysContainer.appendChild(frag);\n\n    self.days = self.daysContainer.firstChild as HTMLDivElement;\n    if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n      onMouseOver();\n    }\n  }\n\n  function buildMonthSwitch() {\n    if (\n      self.config.showMonths > 1 ||\n      self.config.monthSelectorType !== \"dropdown\"\n    )\n      return;\n\n    const shouldBuildMonth = function (month: number): boolean {\n      if (\n        self.config.minDate !== undefined &&\n        self.currentYear === self.config.minDate.getFullYear() &&\n        month < self.config.minDate.getMonth()\n      ) {\n        return false;\n      }\n\n      return !(\n        self.config.maxDate !== undefined &&\n        self.currentYear === self.config.maxDate.getFullYear() &&\n        month > self.config.maxDate.getMonth()\n      );\n    };\n\n    self.monthsDropdownContainer.tabIndex = -1;\n\n    self.monthsDropdownContainer.innerHTML = \"\";\n\n    for (let i = 0; i < 12; i++) {\n      if (!shouldBuildMonth(i)) continue;\n\n      const month = createElement<HTMLOptionElement>(\n        \"option\",\n        \"flatpickr-monthDropdown-month\"\n      );\n\n      month.value = new Date(self.currentYear, i).getMonth().toString();\n      month.textContent = monthToStr(\n        i,\n        self.config.shorthandCurrentMonth,\n        self.l10n\n      );\n      month.tabIndex = -1;\n\n      if (self.currentMonth === i) {\n        month.selected = true;\n      }\n\n      self.monthsDropdownContainer.appendChild(month);\n    }\n  }\n\n  function buildMonth() {\n    const container = createElement(\"div\", \"flatpickr-month\");\n    const monthNavFragment = window.document.createDocumentFragment();\n\n    let monthElement;\n\n    if (\n      self.config.showMonths > 1 ||\n      self.config.monthSelectorType === \"static\"\n    ) {\n      monthElement = createElement<HTMLSpanElement>(\"span\", \"cur-month\");\n    } else {\n      self.monthsDropdownContainer = createElement<HTMLSelectElement>(\n        \"select\",\n        \"flatpickr-monthDropdown-months\"\n      );\n\n      self.monthsDropdownContainer.setAttribute(\n        \"aria-label\",\n        self.l10n.monthAriaLabel\n      );\n\n      bind(self.monthsDropdownContainer, \"change\", (e: Event) => {\n        const target = getEventTarget(e) as HTMLSelectElement;\n        const selectedMonth = parseInt(target.value, 10);\n\n        self.changeMonth(selectedMonth - self.currentMonth);\n\n        triggerEvent(\"onMonthChange\");\n      });\n\n      buildMonthSwitch();\n\n      monthElement = self.monthsDropdownContainer;\n    }\n\n    const yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n\n    const yearElement = yearInput.getElementsByTagName(\n      \"input\"\n    )[0] as HTMLInputElement;\n    yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n\n    if (self.config.minDate) {\n      yearElement.setAttribute(\n        \"min\",\n        self.config.minDate.getFullYear().toString()\n      );\n    }\n\n    if (self.config.maxDate) {\n      yearElement.setAttribute(\n        \"max\",\n        self.config.maxDate.getFullYear().toString()\n      );\n\n      yearElement.disabled =\n        !!self.config.minDate &&\n        self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n    }\n\n    const currentMonth = createElement<HTMLDivElement>(\n      \"div\",\n      \"flatpickr-current-month\"\n    );\n    currentMonth.appendChild(monthElement);\n    currentMonth.appendChild(yearInput);\n\n    monthNavFragment.appendChild(currentMonth);\n    container.appendChild(monthNavFragment);\n\n    return {\n      container,\n      yearElement,\n      monthElement,\n    };\n  }\n\n  function buildMonths() {\n    clearNode(self.monthNav);\n    self.monthNav.appendChild(self.prevMonthNav);\n\n    if (self.config.showMonths) {\n      self.yearElements = [];\n      self.monthElements = [];\n    }\n\n    for (let m = self.config.showMonths; m--; ) {\n      const month = buildMonth();\n      self.yearElements.push(month.yearElement);\n      self.monthElements.push(month.monthElement);\n      self.monthNav.appendChild(month.container);\n    }\n\n    self.monthNav.appendChild(self.nextMonthNav);\n  }\n\n  function buildMonthNav() {\n    self.monthNav = createElement<HTMLDivElement>(\"div\", \"flatpickr-months\");\n    self.yearElements = [];\n    self.monthElements = [];\n\n    self.prevMonthNav = createElement<HTMLSpanElement>(\n      \"span\",\n      \"flatpickr-prev-month\"\n    );\n    self.prevMonthNav.innerHTML = self.config.prevArrow;\n\n    self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n    self.nextMonthNav.innerHTML = self.config.nextArrow;\n\n    buildMonths();\n\n    Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n      get: () => self.__hidePrevMonthArrow,\n      set(bool: boolean) {\n        if (self.__hidePrevMonthArrow !== bool) {\n          toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n          self.__hidePrevMonthArrow = bool;\n        }\n      },\n    });\n\n    Object.defineProperty(self, \"_hideNextMonthArrow\", {\n      get: () => self.__hideNextMonthArrow,\n      set(bool: boolean) {\n        if (self.__hideNextMonthArrow !== bool) {\n          toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n          self.__hideNextMonthArrow = bool;\n        }\n      },\n    });\n\n    self.currentYearElement = self.yearElements[0];\n\n    updateNavigationCurrentMonth();\n\n    return self.monthNav;\n  }\n  function buildCloseDiv() {\n    var container = document.createElement(\"div\");\n    container.className = \"flatpickr-bottom-div\";\n    container.innerHTML = \"<a  >Confirm</a>\";\n    var closeBtn = container.querySelector(\"a\");\n    closeBtn.addEventListener(\"click\", self.config.closeBtn);\n    closeBtn.instance = self;\n    return container;\n  }\n  function buildTime() {\n    self.calendarContainer.classList.add(\"hasTime\");\n    if (self.config.noCalendar)\n      self.calendarContainer.classList.add(\"noCalendar\");\n\n    const defaults = getDefaultHours(self.config);\n\n    self.timeContainer = createElement<HTMLDivElement>(\"div\", \"flatpickr-time\");\n    self.timeContainer.tabIndex = -1;\n    const separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n\n    const hourInput = createNumberInput(\"flatpickr-hour\", {\n      \"aria-label\": self.l10n.hourAriaLabel,\n    });\n    self.hourElement = hourInput.getElementsByTagName(\n      \"input\"\n    )[0] as HTMLInputElement;\n\n    const minuteInput = createNumberInput(\"flatpickr-minute\", {\n      \"aria-label\": self.l10n.minuteAriaLabel,\n    });\n\n    self.minuteElement = minuteInput.getElementsByTagName(\n      \"input\"\n    )[0] as HTMLInputElement;\n\n    self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n\n    self.hourElement.value = pad(\n      self.latestSelectedDateObj\n        ? self.latestSelectedDateObj.getHours()\n        : self.config.time_24hr\n        ? defaults.hours\n        : military2ampm(defaults.hours)\n    );\n\n    self.minuteElement.value = pad(\n      self.latestSelectedDateObj\n        ? self.latestSelectedDateObj.getMinutes()\n        : defaults.minutes\n    );\n\n    self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n    self.minuteElement.setAttribute(\n      \"step\",\n      self.config.minuteIncrement.toString()\n    );\n\n    self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n    self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n    self.hourElement.setAttribute(\"maxlength\", \"2\");\n\n    self.minuteElement.setAttribute(\"min\", \"0\");\n    self.minuteElement.setAttribute(\"max\", \"59\");\n    self.minuteElement.setAttribute(\"maxlength\", \"2\");\n\n    self.timeContainer.appendChild(hourInput);\n    self.timeContainer.appendChild(separator);\n    self.timeContainer.appendChild(minuteInput);\n\n    if (self.config.time_24hr) self.timeContainer.classList.add(\"time24hr\");\n\n    if (self.config.enableSeconds) {\n      self.timeContainer.classList.add(\"hasSeconds\");\n\n      const secondInput = createNumberInput(\"flatpickr-second\");\n      self.secondElement = secondInput.getElementsByTagName(\n        \"input\"\n      )[0] as HTMLInputElement;\n\n      self.secondElement.value = pad(\n        self.latestSelectedDateObj\n          ? self.latestSelectedDateObj.getSeconds()\n          : defaults.seconds\n      );\n\n      self.secondElement.setAttribute(\n        \"step\",\n        self.minuteElement.getAttribute(\"step\") as string\n      );\n      self.secondElement.setAttribute(\"min\", \"0\");\n      self.secondElement.setAttribute(\"max\", \"59\");\n      self.secondElement.setAttribute(\"maxlength\", \"2\");\n\n      self.timeContainer.appendChild(\n        createElement(\"span\", \"flatpickr-time-separator\", \":\")\n      );\n      self.timeContainer.appendChild(secondInput);\n    }\n\n    if (!self.config.time_24hr) {\n      // add self.amPM if appropriate\n      self.amPM = createElement(\n        \"span\",\n        \"flatpickr-am-pm\",\n        self.l10n.amPM[\n          int(\n            (self.latestSelectedDateObj\n              ? self.hourElement.value\n              : self.config.defaultHour) > 11\n          )\n        ]\n      );\n      self.amPM.title = self.l10n.toggleTitle;\n      self.amPM.tabIndex = -1;\n      self.timeContainer.appendChild(self.amPM);\n    }\n\n    return self.timeContainer;\n  }\n\n  function buildWeekdays() {\n    if (!self.weekdayContainer)\n      self.weekdayContainer = createElement<HTMLDivElement>(\n        \"div\",\n        \"flatpickr-weekdays\"\n      );\n    else clearNode(self.weekdayContainer);\n\n    for (let i = self.config.showMonths; i--; ) {\n      const container = createElement<HTMLDivElement>(\n        \"div\",\n        \"flatpickr-weekdaycontainer\"\n      );\n\n      self.weekdayContainer.appendChild(container);\n    }\n\n    updateWeekdays();\n\n    return self.weekdayContainer;\n  }\n\n  function updateWeekdays() {\n    if (!self.weekdayContainer) {\n      return;\n    }\n\n    const firstDayOfWeek = self.l10n.firstDayOfWeek;\n    let weekdays = [...self.l10n.weekdays.shorthand];\n\n    if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n      weekdays = [\n        ...weekdays.splice(firstDayOfWeek, weekdays.length),\n        ...weekdays.splice(0, firstDayOfWeek),\n      ];\n    }\n\n    for (let i = self.config.showMonths; i--; ) {\n      self.weekdayContainer.children[i].innerHTML = `\n      <span class='flatpickr-weekday'>\n        ${weekdays.join(\"</span><span class='flatpickr-weekday'>\")}\n      </span>\n      `;\n    }\n  }\n\n  /* istanbul ignore next */\n  function buildWeeks() {\n    self.calendarContainer.classList.add(\"hasWeeks\");\n    const weekWrapper = createElement<HTMLDivElement>(\n      \"div\",\n      \"flatpickr-weekwrapper\"\n    );\n    weekWrapper.appendChild(\n      createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation)\n    );\n    const weekNumbers = createElement<HTMLDivElement>(\"div\", \"flatpickr-weeks\");\n    weekWrapper.appendChild(weekNumbers);\n\n    return {\n      weekWrapper,\n      weekNumbers,\n    };\n  }\n\n  function changeMonth(value: number, isOffset = true) {\n    const delta = isOffset ? value : value - self.currentMonth;\n\n    if (\n      (delta < 0 && self._hidePrevMonthArrow === true) ||\n      (delta > 0 && self._hideNextMonthArrow === true)\n    )\n      return;\n\n    self.currentMonth += delta;\n\n    if (self.currentMonth < 0 || self.currentMonth > 11) {\n      self.currentYear += self.currentMonth > 11 ? 1 : -1;\n      self.currentMonth = (self.currentMonth + 12) % 12;\n\n      triggerEvent(\"onYearChange\");\n      buildMonthSwitch();\n    }\n\n    buildDays();\n\n    triggerEvent(\"onMonthChange\");\n    updateNavigationCurrentMonth();\n  }\n\n  function clear(triggerChangeEvent = true, toInitial = true) {\n    self.input.value = \"\";\n\n    if (self.altInput !== undefined) self.altInput.value = \"\";\n\n    if (self.mobileInput !== undefined) self.mobileInput.value = \"\";\n\n    self.selectedDates = [];\n    self.latestSelectedDateObj = undefined;\n    if (toInitial === true) {\n      self.currentYear = self._initialDate.getFullYear();\n      self.currentMonth = self._initialDate.getMonth();\n    }\n\n    if (self.config.enableTime === true) {\n      const { hours, minutes, seconds } = getDefaultHours(self.config);\n      setHours(hours, minutes, seconds);\n    }\n\n    self.redraw();\n\n    if (triggerChangeEvent)\n      // triggerChangeEvent is true (default) or an Event\n      triggerEvent(\"onChange\");\n  }\n\n  function close() {\n    self.isOpen = false;\n\n    if (!self.isMobile) {\n      if (self.calendarContainer !== undefined) {\n        self.calendarContainer.classList.remove(\"open\");\n      }\n      if (self._input !== undefined) {\n        self._input.classList.remove(\"active\");\n      }\n    }\n\n    triggerEvent(\"onClose\");\n  }\n\n  function destroy() {\n    if (self.config !== undefined) triggerEvent(\"onDestroy\");\n\n    for (let i = self._handlers.length; i--; ) {\n      self._handlers[i].remove();\n    }\n\n    self._handlers = [];\n\n    if (self.mobileInput) {\n      if (self.mobileInput.parentNode)\n        self.mobileInput.parentNode.removeChild(self.mobileInput);\n      self.mobileInput = undefined;\n    } else if (self.calendarContainer && self.calendarContainer.parentNode) {\n      if (self.config.static && self.calendarContainer.parentNode) {\n        const wrapper = self.calendarContainer.parentNode;\n        wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n\n        if (wrapper.parentNode) {\n          while (wrapper.firstChild)\n            wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n          wrapper.parentNode.removeChild(wrapper);\n        }\n      } else\n        self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n    }\n\n    if (self.altInput) {\n      self.input.type = \"text\";\n      if (self.altInput.parentNode)\n        self.altInput.parentNode.removeChild(self.altInput);\n      delete self.altInput;\n    }\n\n    if (self.input) {\n      self.input.type = (self.input as any)._type;\n      self.input.classList.remove(\"flatpickr-input\");\n      self.input.removeAttribute(\"readonly\");\n    }\n\n    ([\n      \"_showTimeInput\",\n      \"latestSelectedDateObj\",\n      \"_hideNextMonthArrow\",\n      \"_hidePrevMonthArrow\",\n      \"__hideNextMonthArrow\",\n      \"__hidePrevMonthArrow\",\n      \"isMobile\",\n      \"isOpen\",\n      \"selectedDateElem\",\n      \"minDateHasTime\",\n      \"maxDateHasTime\",\n      \"days\",\n      \"daysContainer\",\n      \"_input\",\n      \"_positionElement\",\n      \"innerContainer\",\n      \"rContainer\",\n      \"monthNav\",\n      \"todayDateElem\",\n      \"calendarContainer\",\n      \"weekdayContainer\",\n      \"prevMonthNav\",\n      \"nextMonthNav\",\n      \"monthsDropdownContainer\",\n      \"currentMonthElement\",\n      \"currentYearElement\",\n      \"navigationCurrentMonth\",\n      \"selectedDateElem\",\n      \"config\",\n    ] as (keyof Instance)[]).forEach((k) => {\n      try {\n        delete self[k as keyof Instance];\n      } catch (_) {}\n    });\n  }\n\n  function isCalendarElem(elem: HTMLElement) {\n    return self.calendarContainer.contains(elem);\n  }\n\n  function documentClick(e: MouseEvent) {\n    if (self.isOpen && !self.config.inline) {\n      const eventTarget = getEventTarget(e);\n      const isCalendarElement = isCalendarElem(eventTarget as HTMLElement);\n      const isInput =\n        eventTarget === self.input ||\n        eventTarget === self.altInput ||\n        self.element.contains(eventTarget as HTMLElement) ||\n        // web components\n        // e.path is not present in all browsers. circumventing typechecks\n        ((e as any).path &&\n          (e as any).path.indexOf &&\n          (~(e as any).path.indexOf(self.input) ||\n            ~(e as any).path.indexOf(self.altInput)));\n\n      const lostFocus =\n        !isInput &&\n        !isCalendarElement &&\n        !isCalendarElem(e.relatedTarget as HTMLElement);\n\n      const isIgnored = !self.config.ignoredFocusElements.some((elem) =>\n        elem.contains(eventTarget as Node)\n      );\n\n      if (lostFocus && isIgnored) {\n        if (self.config.allowInput) {\n          self.setDate(\n            self._input.value,\n            false,\n            self.config.altInput\n              ? self.config.altFormat\n              : self.config.dateFormat\n          );\n        }\n\n        if (\n          self.timeContainer !== undefined &&\n          self.minuteElement !== undefined &&\n          self.hourElement !== undefined &&\n          self.input.value !== \"\" &&\n          self.input.value !== undefined\n        ) {\n          updateTime();\n        }\n\n        self.close();\n\n        if (\n          self.config &&\n          self.config.mode === \"range\" &&\n          self.selectedDates.length === 1\n        )\n          self.clear(false);\n      }\n    }\n  }\n\n  function changeYear(newYear: number) {\n    if (\n      !newYear ||\n      (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n      (self.config.maxDate && newYear > self.config.maxDate.getFullYear())\n    )\n      return;\n\n    const newYearNum = newYear,\n      isNewYear = self.currentYear !== newYearNum;\n\n    self.currentYear = newYearNum || self.currentYear;\n\n    if (\n      self.config.maxDate &&\n      self.currentYear === self.config.maxDate.getFullYear()\n    ) {\n      self.currentMonth = Math.min(\n        self.config.maxDate.getMonth(),\n        self.currentMonth\n      );\n    } else if (\n      self.config.minDate &&\n      self.currentYear === self.config.minDate.getFullYear()\n    ) {\n      self.currentMonth = Math.max(\n        self.config.minDate.getMonth(),\n        self.currentMonth\n      );\n    }\n\n    if (isNewYear) {\n      self.redraw();\n      triggerEvent(\"onYearChange\");\n      buildMonthSwitch();\n    }\n  }\n\n  function isEnabled(date: DateOption, timeless = true): boolean {\n    const dateToCheck = self.parseDate(date, undefined, timeless); // timeless\n\n    if (\n      (self.config.minDate &&\n        dateToCheck &&\n        compareDates(\n          dateToCheck,\n          self.config.minDate,\n          timeless !== undefined ? timeless : !self.minDateHasTime\n        ) < 0) ||\n      (self.config.maxDate &&\n        dateToCheck &&\n        compareDates(\n          dateToCheck,\n          self.config.maxDate,\n          timeless !== undefined ? timeless : !self.maxDateHasTime\n        ) > 0)\n    )\n      return false;\n    if (!self.config.enable && self.config.disable.length === 0) return true;\n\n    if (dateToCheck === undefined) return false;\n\n    const bool = !!self.config.enable,\n      array = self.config.enable ?? self.config.disable;\n\n    for (let i = 0, d; i < array.length; i++) {\n      d = array[i];\n\n      if (\n        typeof d === \"function\" &&\n        d(dateToCheck) // disabled by function\n      )\n        return bool;\n      else if (\n        d instanceof Date &&\n        dateToCheck !== undefined &&\n        d.getTime() === dateToCheck.getTime()\n      )\n        // disabled by date\n        return bool;\n      else if (typeof d === \"string\") {\n        // disabled by date string\n        const parsed = self.parseDate(d, undefined, true);\n        return parsed && parsed.getTime() === dateToCheck.getTime()\n          ? bool\n          : !bool;\n      } else if (\n        // disabled by range\n        typeof d === \"object\" &&\n        dateToCheck !== undefined &&\n        (d as DateRangeLimit).from &&\n        (d as DateRangeLimit).to &&\n        dateToCheck.getTime() >= (d as DateRangeLimit<Date>).from.getTime() &&\n        dateToCheck.getTime() <= (d as DateRangeLimit<Date>).to.getTime()\n      )\n        return bool;\n    }\n\n    return !bool;\n  }\n\n  function isInView(elem: Element) {\n    if (self.daysContainer !== undefined)\n      return (\n        elem.className.indexOf(\"hidden\") === -1 &&\n        elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n        self.daysContainer.contains(elem)\n      );\n    return false;\n  }\n\n  function onBlur(e: FocusEvent) {\n    const isInput = e.target === self._input;\n    const valueChanged = self._input.value.trimEnd() !== getDateStr();\n\n    if (\n      isInput &&\n      valueChanged &&\n      !(e.relatedTarget && isCalendarElem(e.relatedTarget as HTMLElement))\n    ) {\n      self.setDate(\n        self._input.value,\n        true,\n        e.target === self.altInput\n          ? self.config.altFormat\n          : self.config.dateFormat\n      );\n    }\n  }\n\n  function onKeyDown(e: KeyboardEvent) {\n    // e.key                      e.keyCode\n    // \"Backspace\"                        8\n    // \"Tab\"                              9\n    // \"Enter\"                           13\n    // \"Escape\"     (IE \"Esc\")           27\n    // \"ArrowLeft\"  (IE \"Left\")          37\n    // \"ArrowUp\"    (IE \"Up\")            38\n    // \"ArrowRight\" (IE \"Right\")         39\n    // \"ArrowDown\"  (IE \"Down\")          40\n    // \"Delete\"     (IE \"Del\")           46\n\n    const eventTarget = getEventTarget(e);\n    const isInput = self.config.wrap\n      ? element.contains(eventTarget as HTMLElement)\n      : eventTarget === self._input;\n    const allowInput = self.config.allowInput;\n    const allowKeydown = self.isOpen && (!allowInput || !isInput);\n    const allowInlineKeydown = self.config.inline && isInput && !allowInput;\n\n    if (e.keyCode === 13 && isInput) {\n      if (allowInput) {\n        self.setDate(\n          self._input.value,\n          true,\n          eventTarget === self.altInput\n            ? self.config.altFormat\n            : self.config.dateFormat\n        );\n        self.close();\n        return (eventTarget as HTMLElement).blur();\n      } else {\n        self.open();\n      }\n    } else if (\n      isCalendarElem(eventTarget as HTMLElement) ||\n      allowKeydown ||\n      allowInlineKeydown\n    ) {\n      const isTimeObj =\n        !!self.timeContainer &&\n        self.timeContainer.contains(eventTarget as HTMLElement);\n\n      switch (e.keyCode) {\n        case 13:\n          if (isTimeObj) {\n            e.preventDefault();\n            updateTime();\n            focusAndClose();\n          } else selectDate(e);\n\n          break;\n\n        case 27: // escape\n          e.preventDefault();\n          focusAndClose();\n          break;\n\n        case 8:\n        case 46:\n          if (isInput && !self.config.allowInput) {\n            e.preventDefault();\n            self.clear();\n          }\n          break;\n\n        case 37:\n        case 39:\n          if (!isTimeObj && !isInput) {\n            e.preventDefault();\n\n            const activeElement = getClosestActiveElement();\n            if (\n              self.daysContainer !== undefined &&\n              (allowInput === false ||\n                (activeElement && isInView(activeElement)))\n            ) {\n              const delta = e.keyCode === 39 ? 1 : -1;\n\n              if (!e.ctrlKey) focusOnDay(undefined, delta);\n              else {\n                e.stopPropagation();\n                changeMonth(delta);\n                focusOnDay(getFirstAvailableDay(1), 0);\n              }\n            }\n          } else if (self.hourElement) self.hourElement.focus();\n\n          break;\n\n        case 38:\n        case 40:\n          e.preventDefault();\n          const delta = e.keyCode === 40 ? 1 : -1;\n          if (\n            (self.daysContainer &&\n              (eventTarget as DayElement).$i !== undefined) ||\n            eventTarget === self.input ||\n            eventTarget === self.altInput\n          ) {\n            if (e.ctrlKey) {\n              e.stopPropagation();\n              changeYear(self.currentYear - delta);\n              focusOnDay(getFirstAvailableDay(1), 0);\n            } else if (!isTimeObj) focusOnDay(undefined, delta * 7);\n          } else if (eventTarget === self.currentYearElement) {\n            changeYear(self.currentYear - delta);\n          } else if (self.config.enableTime) {\n            if (!isTimeObj && self.hourElement) self.hourElement.focus();\n            updateTime(e);\n            self._debouncedChange();\n          }\n\n          break;\n\n        case 9:\n          if (isTimeObj) {\n            const elems = ([\n              self.hourElement,\n              self.minuteElement,\n              self.secondElement,\n              self.amPM,\n            ] as Node[])\n              .concat(self.pluginElements)\n              .filter((x) => x) as HTMLInputElement[];\n\n            const i = elems.indexOf(eventTarget as HTMLInputElement);\n\n            if (i !== -1) {\n              const target = elems[i + (e.shiftKey ? -1 : 1)];\n              e.preventDefault();\n              (target || self._input).focus();\n            }\n          } else if (\n            !self.config.noCalendar &&\n            self.daysContainer &&\n            self.daysContainer.contains(eventTarget as Node) &&\n            e.shiftKey\n          ) {\n            e.preventDefault();\n            self._input.focus();\n          }\n\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    if (self.amPM !== undefined && eventTarget === self.amPM) {\n      switch (e.key) {\n        case self.l10n.amPM[0].charAt(0):\n        case self.l10n.amPM[0].charAt(0).toLowerCase():\n          self.amPM.textContent = self.l10n.amPM[0];\n          setHoursFromInputs();\n          updateValue();\n\n          break;\n\n        case self.l10n.amPM[1].charAt(0):\n        case self.l10n.amPM[1].charAt(0).toLowerCase():\n          self.amPM.textContent = self.l10n.amPM[1];\n          setHoursFromInputs();\n          updateValue();\n\n          break;\n      }\n    }\n\n    if (isInput || isCalendarElem(eventTarget as HTMLElement)) {\n      triggerEvent(\"onKeyDown\", e);\n    }\n  }\n\n  function onMouseOver(elem?: DayElement, cellClass = \"flatpickr-day\") {\n    if (\n      self.selectedDates.length !== 1 ||\n      (elem &&\n        (!elem.classList.contains(cellClass) ||\n          elem.classList.contains(\"flatpickr-disabled\")))\n    )\n      return;\n\n    const hoverDate = elem\n        ? elem.dateObj.getTime()\n        : (self.days.firstElementChild as DayElement).dateObj.getTime(),\n      initialDate = (self.parseDate(\n        self.selectedDates[0],\n        undefined,\n        true\n      ) as Date).getTime(),\n      rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()),\n      rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n\n    let containsDisabled = false;\n\n    let minRange = 0,\n      maxRange = 0;\n\n    for (let t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n      if (!isEnabled(new Date(t), true)) {\n        containsDisabled =\n          containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n\n        if (t < initialDate && (!minRange || t > minRange)) minRange = t;\n        else if (t > initialDate && (!maxRange || t < maxRange)) maxRange = t;\n      }\n    }\n\n    const hoverableCells = Array.from(\n      self.rContainer!.querySelectorAll(\n        `*:nth-child(-n+${self.config.showMonths}) > .${cellClass}`\n      )\n    ) as DayElement[];\n\n    hoverableCells.forEach((dayElem) => {\n      const date = dayElem.dateObj;\n\n      const timestamp = date.getTime();\n\n      const outOfRange =\n        (minRange > 0 && timestamp < minRange) ||\n        (maxRange > 0 && timestamp > maxRange);\n\n      if (outOfRange) {\n        dayElem.classList.add(\"notAllowed\");\n        [\"inRange\", \"startRange\", \"endRange\"].forEach((c) => {\n          dayElem.classList.remove(c);\n        });\n        return;\n      } else if (containsDisabled && !outOfRange) return;\n\n      [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach((c) => {\n        dayElem.classList.remove(c);\n      });\n\n      if (elem !== undefined) {\n        elem.classList.add(\n          hoverDate <= self.selectedDates[0].getTime()\n            ? \"startRange\"\n            : \"endRange\"\n        );\n\n        if (initialDate < hoverDate && timestamp === initialDate)\n          dayElem.classList.add(\"startRange\");\n        else if (initialDate > hoverDate && timestamp === initialDate)\n          dayElem.classList.add(\"endRange\");\n        if (\n          timestamp >= minRange &&\n          (maxRange === 0 || timestamp <= maxRange) &&\n          isBetween(timestamp, initialDate, hoverDate)\n        )\n          dayElem.classList.add(\"inRange\");\n      }\n    });\n  }\n\n  function onResize() {\n    if (self.isOpen && !self.config.static && !self.config.inline)\n      positionCalendar();\n  }\n\n  function open(\n    e?: FocusEvent | MouseEvent,\n    positionElement = self._positionElement\n  ) {\n    if (self.isMobile === true) {\n      if (e) {\n        e.preventDefault();\n        const eventTarget = getEventTarget(e);\n        if (eventTarget) {\n          (eventTarget as HTMLInputElement).blur();\n        }\n      }\n\n      if (self.mobileInput !== undefined) {\n        self.mobileInput.focus();\n        self.mobileInput.click();\n      }\n\n      triggerEvent(\"onOpen\");\n      return;\n    } else if (self._input.disabled || self.config.inline) {\n      return;\n    }\n\n    const wasOpen = self.isOpen;\n\n    self.isOpen = true;\n\n    if (!wasOpen) {\n      self.calendarContainer.classList.add(\"open\");\n      self._input.classList.add(\"active\");\n      triggerEvent(\"onOpen\");\n      positionCalendar(positionElement);\n    }\n\n    if (self.config.enableTime === true && self.config.noCalendar === true) {\n      if (\n        self.config.allowInput === false &&\n        (e === undefined ||\n          !(self.timeContainer as HTMLDivElement).contains(\n            e.relatedTarget as Node\n          ))\n      ) {\n        setTimeout(() => (self.hourElement as HTMLInputElement).select(), 50);\n      }\n    }\n  }\n\n  function minMaxDateSetter(type: \"min\" | \"max\") {\n    return (date: DateOption) => {\n      const dateObj = (self.config[\n        `_${type}Date` as \"_minDate\" | \"_maxDate\"\n      ] = self.parseDate(date, self.config.dateFormat));\n\n      const inverseDateObj =\n        self.config[\n          `_${type === \"min\" ? \"max\" : \"min\"}Date` as \"_minDate\" | \"_maxDate\"\n        ];\n\n      if (dateObj !== undefined) {\n        self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n          (dateObj as Date).getHours() > 0 ||\n          (dateObj as Date).getMinutes() > 0 ||\n          (dateObj as Date).getSeconds() > 0;\n      }\n\n      if (self.selectedDates) {\n        self.selectedDates = self.selectedDates.filter((d) => isEnabled(d));\n        if (!self.selectedDates.length && type === \"min\")\n          setHoursFromDate(dateObj);\n        updateValue();\n      }\n\n      if (self.daysContainer) {\n        redraw();\n\n        if (dateObj !== undefined)\n          self.currentYearElement[type] = dateObj.getFullYear().toString();\n        else self.currentYearElement.removeAttribute(type);\n\n        self.currentYearElement.disabled =\n          !!inverseDateObj &&\n          dateObj !== undefined &&\n          inverseDateObj.getFullYear() === dateObj.getFullYear();\n      }\n    };\n  }\n\n  function parseConfig() {\n    const boolOpts: (keyof Options)[] = [\n      \"wrap\",\n      \"weekNumbers\",\n      \"allowInput\",\n      \"allowInvalidPreload\",\n      \"clickOpens\",\n      \"time_24hr\",\n      \"enableTime\",\n      \"noCalendar\",\n      \"altInput\",\n      \"shorthandCurrentMonth\",\n      \"inline\",\n      \"static\",\n      \"enableSeconds\",\n      \"disableMobile\",\n    ];\n\n    const userConfig = {\n      ...JSON.parse(JSON.stringify(element.dataset || {})),\n      ...instanceConfig,\n    } as Options;\n\n    const formats = {} as Record<\"dateFormat\" | \"altFormat\", string>;\n\n    self.config.parseDate = userConfig.parseDate;\n    self.config.formatDate = userConfig.formatDate;\n\n    Object.defineProperty(self.config, \"enable\", {\n      get: () => self.config._enable,\n      set: (dates) => {\n        self.config._enable = parseDateRules(dates);\n      },\n    });\n\n    Object.defineProperty(self.config, \"disable\", {\n      get: () => self.config._disable,\n      set: (dates) => {\n        self.config._disable = parseDateRules(dates);\n      },\n    });\n\n    const timeMode = userConfig.mode === \"time\";\n\n    if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n      const defaultDateFormat =\n        flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n      formats.dateFormat =\n        userConfig.noCalendar || timeMode\n          ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n          : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n    }\n\n    if (\n      userConfig.altInput &&\n      (userConfig.enableTime || timeMode) &&\n      !userConfig.altFormat\n    ) {\n      const defaultAltFormat =\n        flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n      formats.altFormat =\n        userConfig.noCalendar || timeMode\n          ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n          : defaultAltFormat + ` h:i${userConfig.enableSeconds ? \":S\" : \"\"} K`;\n    }\n\n    Object.defineProperty(self.config, \"minDate\", {\n      get: () => self.config._minDate,\n      set: minMaxDateSetter(\"min\"),\n    });\n\n    Object.defineProperty(self.config, \"maxDate\", {\n      get: () => self.config._maxDate,\n      set: minMaxDateSetter(\"max\"),\n    });\n\n    const minMaxTimeSetter = (type: string) => (val: any) => {\n      self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(\n        val,\n        \"H:i:S\"\n      );\n    };\n\n    Object.defineProperty(self.config, \"minTime\", {\n      get: () => self.config._minTime,\n      set: minMaxTimeSetter(\"min\"),\n    });\n\n    Object.defineProperty(self.config, \"maxTime\", {\n      get: () => self.config._maxTime,\n      set: minMaxTimeSetter(\"max\"),\n    });\n\n    if (userConfig.mode === \"time\") {\n      self.config.noCalendar = true;\n      self.config.enableTime = true;\n    }\n\n    Object.assign(self.config, formats, userConfig);\n\n    for (let i = 0; i < boolOpts.length; i++)\n      // https://github.com/microsoft/TypeScript/issues/31663\n      (self.config as any)[boolOpts[i]] =\n        self.config[boolOpts[i]] === true ||\n        self.config[boolOpts[i]] === \"true\";\n\n    HOOKS.filter((hook) => self.config[hook] !== undefined).forEach((hook) => {\n      self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n    });\n\n    self.isMobile =\n      !self.config.disableMobile &&\n      !self.config.inline &&\n      self.config.mode === \"single\" &&\n      !self.config.disable.length &&\n      !self.config.enable &&\n      !self.config.weekNumbers &&\n      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n        navigator.userAgent\n      );\n\n    for (let i = 0; i < self.config.plugins.length; i++) {\n      const pluginConf = self.config.plugins[i](self) || ({} as Options);\n      for (const key in pluginConf) {\n        if (HOOKS.indexOf(key as HookKey) > -1) {\n          (self.config as any)[key] = arrayify(\n            pluginConf[key as HookKey] as Hook\n          )\n            .map(bindToInstance)\n            .concat(self.config[key as HookKey]);\n        } else if (typeof userConfig[key as keyof Options] === \"undefined\")\n          (self.config as any)[key] = pluginConf[key as keyof Options] as any;\n      }\n    }\n\n    if (!userConfig.altInputClass) {\n      self.config.altInputClass =\n        getInputElem().className + \" \" + self.config.altInputClass;\n    }\n\n    triggerEvent(\"onParseConfig\");\n  }\n\n  function getInputElem() {\n    return self.config.wrap\n      ? (element.querySelector(\"[data-input]\") as HTMLInputElement)\n      : (element as HTMLInputElement);\n  }\n\n  function setupLocale() {\n    if (\n      typeof self.config.locale !== \"object\" &&\n      typeof flatpickr.l10ns[self.config.locale as LocaleKey] === \"undefined\"\n    )\n      self.config.errorHandler(\n        new Error(`flatpickr: invalid locale ${self.config.locale}`)\n      );\n\n    self.l10n = {\n      ...(flatpickr.l10ns.default as Locale),\n      ...(typeof self.config.locale === \"object\"\n        ? self.config.locale\n        : self.config.locale !== \"default\"\n        ? flatpickr.l10ns[self.config.locale as LocaleKey]\n        : undefined),\n    };\n\n    tokenRegex.D = `(${self.l10n.weekdays.shorthand.join(\"|\")})`;\n    tokenRegex.l = `(${self.l10n.weekdays.longhand.join(\"|\")})`;\n    tokenRegex.M = `(${self.l10n.months.shorthand.join(\"|\")})`;\n    tokenRegex.F = `(${self.l10n.months.longhand.join(\"|\")})`;\n    tokenRegex.K = `(${self.l10n.amPM[0]}|${\n      self.l10n.amPM[1]\n    }|${self.l10n.amPM[0].toLowerCase()}|${self.l10n.amPM[1].toLowerCase()})`;\n\n    const userConfig = {\n      ...instanceConfig,\n      ...JSON.parse(JSON.stringify(element.dataset || {})),\n    } as Options;\n\n    if (\n      userConfig.time_24hr === undefined &&\n      flatpickr.defaultConfig.time_24hr === undefined\n    ) {\n      self.config.time_24hr = self.l10n.time_24hr;\n    }\n\n    self.formatDate = createDateFormatter(self);\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n  }\n\n  function positionCalendar(customPositionElement?: HTMLElement) {\n    if (typeof self.config.position === \"function\") {\n      return void self.config.position(self, customPositionElement);\n    }\n    if (self.calendarContainer === undefined) return;\n\n    triggerEvent(\"onPreCalendarPosition\");\n    const positionElement = customPositionElement || self._positionElement;\n\n    const calendarHeight = Array.prototype.reduce.call(\n        self.calendarContainer.children,\n        ((acc: number, child: HTMLElement) => acc + child.offsetHeight) as any,\n        0\n      ) as number,\n      calendarWidth = self.calendarContainer.offsetWidth,\n      configPos = self.config.position.split(\" \"),\n      configPosVertical = configPos[0],\n      configPosHorizontal = configPos.length > 1 ? configPos[1] : null,\n      inputBounds = positionElement.getBoundingClientRect(),\n      distanceFromBottom = window.innerHeight - inputBounds.bottom,\n      showOnTop =\n        configPosVertical === \"above\" ||\n        (configPosVertical !== \"below\" &&\n          distanceFromBottom < calendarHeight &&\n          inputBounds.top > calendarHeight);\n\n    const top =\n      window.pageYOffset +\n      inputBounds.top +\n      (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n\n    toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n    toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n\n    if (self.config.inline) return;\n\n    let left = window.pageXOffset + inputBounds.left;\n    let isCenter = false;\n    let isRight = false;\n\n    if (configPosHorizontal === \"center\") {\n      left -= (calendarWidth - inputBounds.width) / 2;\n      isCenter = true;\n    } else if (configPosHorizontal === \"right\") {\n      left -= calendarWidth - inputBounds.width;\n      isRight = true;\n    }\n\n    toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n    toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n    toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n\n    const right =\n      window.document.body.offsetWidth -\n      (window.pageXOffset + inputBounds.right);\n    const rightMost = left + calendarWidth > window.document.body.offsetWidth;\n    const centerMost = right + calendarWidth > window.document.body.offsetWidth;\n\n    toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n\n    if (self.config.static) return;\n\n    self.calendarContainer.style.top = `${top}px`;\n\n    if (!rightMost) {\n      self.calendarContainer.style.left = `${left}px`;\n      self.calendarContainer.style.right = \"auto\";\n    } else if (!centerMost) {\n      self.calendarContainer.style.left = \"auto\";\n      self.calendarContainer.style.right = `${right}px`;\n    } else {\n      const doc = getDocumentStyleSheet() as CSSStyleSheet;\n      // some testing environments don't have css support\n      if (doc === undefined) return;\n      const bodyWidth = window.document.body.offsetWidth;\n      const centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n      const centerBefore = \".flatpickr-calendar.centerMost:before\";\n      const centerAfter = \".flatpickr-calendar.centerMost:after\";\n      const centerIndex = doc.cssRules.length;\n      const centerStyle = `{left:${inputBounds.left}px;right:auto;}`;\n      toggleClass(self.calendarContainer, \"rightMost\", false);\n      toggleClass(self.calendarContainer, \"centerMost\", true);\n      doc.insertRule(\n        `${centerBefore},${centerAfter}${centerStyle}`,\n        centerIndex\n      );\n      self.calendarContainer.style.left = `${centerLeft}px`;\n      self.calendarContainer.style.right = \"auto\";\n    }\n  }\n\n  function getDocumentStyleSheet() {\n    let editableSheet = null;\n    for (let i = 0; i < document.styleSheets.length; i++) {\n      const sheet = document.styleSheets[i] as CSSStyleSheet;\n      if (!sheet.cssRules) continue;\n      try {\n        sheet.cssRules;\n      } catch (err) {\n        continue;\n      }\n      editableSheet = sheet;\n      break;\n    }\n    return editableSheet != null ? editableSheet : createStyleSheet();\n  }\n\n  function createStyleSheet() {\n    const style = document.createElement(\"style\");\n    document.head.appendChild(style);\n    return style.sheet as CSSStyleSheet;\n  }\n\n  function redraw() {\n    if (self.config.noCalendar || self.isMobile) return;\n\n    buildMonthSwitch();\n    updateNavigationCurrentMonth();\n    buildDays();\n  }\n\n  function focusAndClose() {\n    self._input.focus();\n\n    if (\n      window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n      navigator.msMaxTouchPoints !== undefined\n    ) {\n      // hack - bugs in the way IE handles focus keeps the calendar open\n      setTimeout(self.close, 0);\n    } else {\n      self.close();\n    }\n  }\n\n  function selectDate(e: MouseEvent | KeyboardEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const isSelectable = (day: Element) =>\n      day.classList &&\n      day.classList.contains(\"flatpickr-day\") &&\n      !day.classList.contains(\"flatpickr-disabled\") &&\n      !day.classList.contains(\"notAllowed\");\n\n    const t = findParent(getEventTarget(e) as Element, isSelectable);\n\n    if (t === undefined) return;\n\n    const target = t as DayElement;\n\n    const selectedDate = (self.latestSelectedDateObj = new Date(\n      target.dateObj.getTime()\n    ));\n\n    const shouldChangeMonth =\n      (selectedDate.getMonth() < self.currentMonth ||\n        selectedDate.getMonth() >\n          self.currentMonth + self.config.showMonths - 1) &&\n      self.config.mode !== \"range\";\n\n    self.selectedDateElem = target;\n\n    if (self.config.mode === \"single\") self.selectedDates = [selectedDate];\n    else if (self.config.mode === \"multiple\") {\n      const selectedIndex = isDateSelected(selectedDate);\n\n      if (selectedIndex) self.selectedDates.splice(parseInt(selectedIndex), 1);\n      else self.selectedDates.push(selectedDate);\n    } else if (self.config.mode === \"range\") {\n      if (self.selectedDates.length === 2) {\n        self.clear(false, false);\n      }\n      self.latestSelectedDateObj = selectedDate;\n      self.selectedDates.push(selectedDate);\n\n      // unless selecting same date twice, sort ascendingly\n      if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n        self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n    }\n\n    setHoursFromInputs();\n\n    if (shouldChangeMonth) {\n      const isNewYear = self.currentYear !== selectedDate.getFullYear();\n      self.currentYear = selectedDate.getFullYear();\n      self.currentMonth = selectedDate.getMonth();\n\n      if (isNewYear) {\n        triggerEvent(\"onYearChange\");\n        buildMonthSwitch();\n      }\n\n      triggerEvent(\"onMonthChange\");\n    }\n\n    updateNavigationCurrentMonth();\n    buildDays();\n\n    updateValue();\n\n    // maintain focus\n    if (\n      !shouldChangeMonth &&\n      self.config.mode !== \"range\" &&\n      self.config.showMonths === 1\n    )\n      focusOnDayElem(target);\n    else if (\n      self.selectedDateElem !== undefined &&\n      self.hourElement === undefined\n    ) {\n      self.selectedDateElem && self.selectedDateElem.focus();\n    }\n\n    if (self.hourElement !== undefined)\n      self.hourElement !== undefined && self.hourElement.focus();\n\n    if (self.config.closeOnSelect) {\n      const single = self.config.mode === \"single\" && !self.config.enableTime;\n      const range =\n        self.config.mode === \"range\" &&\n        self.selectedDates.length === 2 &&\n        !self.config.enableTime;\n\n      if (single || range) {\n        focusAndClose();\n      }\n    }\n    triggerChange();\n  }\n\n  const CALLBACKS: { [k in keyof Options]: Function[] } = {\n    locale: [setupLocale, updateWeekdays],\n    showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n    minDate: [jumpToDate],\n    maxDate: [jumpToDate],\n    positionElement: [updatePositionElement],\n    clickOpens: [\n      () => {\n        if (self.config.clickOpens === true) {\n          bind(self._input, \"focus\", self.open);\n          bind(self._input, \"click\", self.open);\n        } else {\n          self._input.removeEventListener(\"focus\", self.open);\n          self._input.removeEventListener(\"click\", self.open);\n        }\n      },\n    ],\n  };\n\n  function set<K extends keyof Options>(\n    option: K | { [k in K]?: Options[k] },\n    value?: any\n  ) {\n    if (option !== null && typeof option === \"object\") {\n      Object.assign(self.config, option);\n      for (const key in option) {\n        if (CALLBACKS[key] !== undefined)\n          (CALLBACKS[key] as Function[]).forEach((x) => x());\n      }\n    } else {\n      self.config[option] = value;\n\n      if (CALLBACKS[option] !== undefined)\n        (CALLBACKS[option] as Function[]).forEach((x) => x());\n      else if (HOOKS.indexOf(option as HookKey) > -1)\n        (self.config as any)[option] = arrayify(value);\n    }\n\n    self.redraw();\n    updateValue(true);\n  }\n\n  function setSelectedDate(\n    inputDate: DateOption | DateOption[],\n    format?: string\n  ) {\n    let dates: (Date | undefined)[] = [];\n    if (inputDate instanceof Array)\n      dates = inputDate.map((d) => self.parseDate(d, format));\n    else if (inputDate instanceof Date || typeof inputDate === \"number\")\n      dates = [self.parseDate(inputDate, format)];\n    else if (typeof inputDate === \"string\") {\n      switch (self.config.mode) {\n        case \"single\":\n        case \"time\":\n          dates = [self.parseDate(inputDate, format)];\n          break;\n\n        case \"multiple\":\n          dates = inputDate\n            .split(self.config.conjunction)\n            .map((date) => self.parseDate(date, format));\n          break;\n\n        case \"range\":\n          dates = inputDate\n            .split(self.l10n.rangeSeparator)\n            .map((date) => self.parseDate(date, format));\n\n          break;\n\n        default:\n          break;\n      }\n    } else\n      self.config.errorHandler(\n        new Error(`Invalid date supplied: ${JSON.stringify(inputDate)}`)\n      );\n\n    self.selectedDates = (self.config.allowInvalidPreload\n      ? dates\n      : dates.filter(\n          (d) => d instanceof Date && isEnabled(d, false)\n        )) as Date[];\n\n    if (self.config.mode === \"range\")\n      self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n  }\n\n  function setDate(\n    date: DateOption | DateOption[],\n    triggerChange = false,\n    format = self.config.dateFormat\n  ) {\n    if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n      return self.clear(triggerChange);\n\n    setSelectedDate(date, format);\n\n    self.latestSelectedDateObj =\n      self.selectedDates[self.selectedDates.length - 1];\n\n    self.redraw();\n    jumpToDate(undefined, triggerChange);\n\n    setHoursFromDate();\n    if (self.selectedDates.length === 0) {\n      self.clear(false);\n    }\n    updateValue(triggerChange);\n\n    if (triggerChange) triggerEvent(\"onChange\");\n  }\n\n  function parseDateRules(arr: DateLimit[]): DateLimit<Date>[] {\n    return arr\n      .slice()\n      .map((rule) => {\n        if (\n          typeof rule === \"string\" ||\n          typeof rule === \"number\" ||\n          rule instanceof Date\n        ) {\n          return self.parseDate(\n            rule as Date | string | number,\n            undefined,\n            true\n          ) as Date;\n        } else if (\n          rule &&\n          typeof rule === \"object\" &&\n          (rule as DateRangeLimit).from &&\n          (rule as DateRangeLimit).to\n        )\n          return {\n            from: self.parseDate(\n              (rule as DateRangeLimit).from,\n              undefined\n            ) as Date,\n            to: self.parseDate((rule as DateRangeLimit).to, undefined) as Date,\n          };\n\n        return rule;\n      })\n      .filter((x) => x) as DateLimit<Date>[]; // remove falsy values\n  }\n\n  function setupDates() {\n    self.selectedDates = [];\n    self.now = self.parseDate(self.config.now) || new Date();\n\n    // Workaround IE11 setting placeholder as the input's value\n    const preloadedDate =\n      self.config.defaultDate ||\n      ((self.input.nodeName === \"INPUT\" ||\n        self.input.nodeName === \"TEXTAREA\") &&\n      self.input.placeholder &&\n      self.input.value === self.input.placeholder\n        ? null\n        : self.input.value);\n\n    if (preloadedDate) setSelectedDate(preloadedDate, self.config.dateFormat);\n\n    self._initialDate =\n      self.selectedDates.length > 0\n        ? self.selectedDates[0]\n        : self.config.minDate &&\n          self.config.minDate.getTime() > self.now.getTime()\n        ? self.config.minDate\n        : self.config.maxDate &&\n          self.config.maxDate.getTime() < self.now.getTime()\n        ? self.config.maxDate\n        : self.now;\n\n    self.currentYear = self._initialDate.getFullYear();\n    self.currentMonth = self._initialDate.getMonth();\n\n    if (self.selectedDates.length > 0)\n      self.latestSelectedDateObj = self.selectedDates[0];\n\n    if (self.config.minTime !== undefined)\n      self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n\n    if (self.config.maxTime !== undefined)\n      self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n\n    self.minDateHasTime =\n      !!self.config.minDate &&\n      (self.config.minDate.getHours() > 0 ||\n        self.config.minDate.getMinutes() > 0 ||\n        self.config.minDate.getSeconds() > 0);\n\n    self.maxDateHasTime =\n      !!self.config.maxDate &&\n      (self.config.maxDate.getHours() > 0 ||\n        self.config.maxDate.getMinutes() > 0 ||\n        self.config.maxDate.getSeconds() > 0);\n  }\n\n  function setupInputs() {\n    self.input = getInputElem();\n\n    /* istanbul ignore next */\n    if (!self.input) {\n      self.config.errorHandler(new Error(\"Invalid input element specified\"));\n      return;\n    }\n\n    // hack: store previous type to restore it after destroy()\n    (self.input as any)._type = (self.input as any).type;\n    (self.input as any).type = \"text\";\n\n    self.input.classList.add(\"flatpickr-input\");\n    self._input = self.input;\n\n    if (self.config.altInput) {\n      // replicate self.element\n      self.altInput = createElement<HTMLInputElement>(\n        self.input.nodeName as \"input\",\n        self.config.altInputClass\n      );\n      self._input = self.altInput;\n      self.altInput.placeholder = self.input.placeholder;\n      self.altInput.disabled = self.input.disabled;\n      self.altInput.required = self.input.required;\n      self.altInput.tabIndex = self.input.tabIndex;\n      self.altInput.type = \"text\";\n      self.input.setAttribute(\"type\", \"hidden\");\n\n      if (!self.config.static && self.input.parentNode)\n        self.input.parentNode.insertBefore(\n          self.altInput,\n          self.input.nextSibling\n        );\n    }\n\n    if (!self.config.allowInput)\n      self._input.setAttribute(\"readonly\", \"readonly\");\n\n    updatePositionElement();\n  }\n\n  function updatePositionElement() {\n    self._positionElement = self.config.positionElement || self._input;\n  }\n\n  function setupMobile() {\n    const inputType = self.config.enableTime\n      ? self.config.noCalendar\n        ? \"time\"\n        : \"datetime-local\"\n      : \"date\";\n\n    self.mobileInput = createElement<HTMLInputElement>(\n      \"input\",\n      self.input.className + \" flatpickr-mobile\"\n    );\n    self.mobileInput.tabIndex = 1;\n    self.mobileInput.type = inputType;\n    self.mobileInput.disabled = self.input.disabled;\n    self.mobileInput.required = self.input.required;\n    self.mobileInput.placeholder = self.input.placeholder;\n\n    self.mobileFormatStr =\n      inputType === \"datetime-local\"\n        ? \"Y-m-d\\\\TH:i:S\"\n        : inputType === \"date\"\n        ? \"Y-m-d\"\n        : \"H:i:S\";\n\n    if (self.selectedDates.length > 0) {\n      self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(\n        self.selectedDates[0],\n        self.mobileFormatStr\n      );\n    }\n\n    if (self.config.minDate)\n      self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n\n    if (self.config.maxDate)\n      self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n\n    if (self.input.getAttribute(\"step\"))\n      self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n\n    self.input.type = \"hidden\";\n    if (self.altInput !== undefined) self.altInput.type = \"hidden\";\n\n    try {\n      if (self.input.parentNode)\n        self.input.parentNode.insertBefore(\n          self.mobileInput,\n          self.input.nextSibling\n        );\n    } catch {}\n\n    bind(self.mobileInput, \"change\", (e: KeyboardEvent) => {\n      self.setDate(\n        (getEventTarget(e) as HTMLInputElement).value,\n        false,\n        self.mobileFormatStr\n      );\n      triggerEvent(\"onChange\");\n      triggerEvent(\"onClose\");\n    });\n  }\n\n  function toggle(e?: FocusEvent | MouseEvent) {\n    if (self.isOpen === true) return self.close();\n    self.open(e);\n  }\n\n  function triggerEvent(event: HookKey, data?: any) {\n    // If the instance has been destroyed already, all hooks have been removed\n    if (self.config === undefined) return;\n\n    const hooks = self.config[event];\n\n    if (hooks !== undefined && hooks.length > 0) {\n      for (let i = 0; hooks[i] && i < hooks.length; i++)\n        hooks[i](self.selectedDates, self.input.value, self, data);\n    }\n\n    if (event === \"onChange\") {\n      self.input.dispatchEvent(createEvent(\"change\"));\n\n      // many front-end frameworks bind to the input event\n      self.input.dispatchEvent(createEvent(\"input\"));\n    }\n  }\n\n  function createEvent(name: string): Event {\n    const e = document.createEvent(\"Event\");\n    e.initEvent(name, true, true);\n    return e;\n  }\n\n  function isDateSelected(date: Date) {\n    for (let i = 0; i < self.selectedDates.length; i++) {\n      const selectedDate = self.selectedDates[i];\n      if (\n        selectedDate instanceof Date &&\n        compareDates(selectedDate, date) === 0\n      )\n        return \"\" + i;\n    }\n\n    return false;\n  }\n\n  function isDateInRange(date: Date) {\n    if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n      return false;\n    return (\n      compareDates(date, self.selectedDates[0]) >= 0 &&\n      compareDates(date, self.selectedDates[1]) <= 0\n    );\n  }\n\n  function updateNavigationCurrentMonth() {\n    if (self.config.noCalendar || self.isMobile || !self.monthNav) return;\n\n    self.yearElements.forEach((yearElement, i) => {\n      const d = new Date(self.currentYear, self.currentMonth, 1);\n      d.setMonth(self.currentMonth + i);\n\n      if (\n        self.config.showMonths > 1 ||\n        self.config.monthSelectorType === \"static\"\n      ) {\n        self.monthElements[i].textContent =\n          monthToStr(\n            d.getMonth(),\n            self.config.shorthandCurrentMonth,\n            self.l10n\n          ) + \" \";\n      } else {\n        self.monthsDropdownContainer.value = d.getMonth().toString();\n      }\n\n      yearElement.value = d.getFullYear().toString();\n    });\n\n    self._hidePrevMonthArrow =\n      self.config.minDate !== undefined &&\n      (self.currentYear === self.config.minDate.getFullYear()\n        ? self.currentMonth <= self.config.minDate.getMonth()\n        : self.currentYear < self.config.minDate.getFullYear());\n\n    self._hideNextMonthArrow =\n      self.config.maxDate !== undefined &&\n      (self.currentYear === self.config.maxDate.getFullYear()\n        ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n        : self.currentYear > self.config.maxDate.getFullYear());\n  }\n\n  function getDateStr(specificFormat?: string) {\n    const format =\n      specificFormat ||\n      (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n\n    return self.selectedDates\n      .map((dObj) => self.formatDate(dObj, format))\n      .filter(\n        (d, i, arr) =>\n          self.config.mode !== \"range\" ||\n          self.config.enableTime ||\n          arr.indexOf(d) === i\n      )\n      .join(\n        self.config.mode !== \"range\"\n          ? self.config.conjunction\n          : self.l10n.rangeSeparator\n      );\n  }\n\n  /**\n   * Updates the values of inputs associated with the calendar\n   */\n  function updateValue(triggerChange = true) {\n    if (self.mobileInput !== undefined && self.mobileFormatStr) {\n      self.mobileInput.value =\n        self.latestSelectedDateObj !== undefined\n          ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n          : \"\";\n    }\n\n    self.input.value = getDateStr(self.config.dateFormat);\n\n    if (self.altInput !== undefined) {\n      self.altInput.value = getDateStr(self.config.altFormat);\n    }\n\n    if (triggerChange !== false) triggerEvent(\"onValueUpdate\");\n  }\n\n  function onMonthNavClick(e: MouseEvent) {\n    const eventTarget = getEventTarget(e);\n    const isPrevMonth = self.prevMonthNav.contains(eventTarget as Node);\n    const isNextMonth = self.nextMonthNav.contains(eventTarget as Node);\n\n    if (isPrevMonth || isNextMonth) {\n      changeMonth(isPrevMonth ? -1 : 1);\n    } else if (\n      self.yearElements.indexOf(eventTarget as HTMLInputElement) >= 0\n    ) {\n      (eventTarget as HTMLInputElement).select();\n    } else if ((eventTarget as Element).classList.contains(\"arrowUp\")) {\n      self.changeYear(self.currentYear + 1);\n    } else if ((eventTarget as Element).classList.contains(\"arrowDown\")) {\n      self.changeYear(self.currentYear - 1);\n    }\n  }\n\n  function timeWrapper(\n    e: MouseEvent | KeyboardEvent | FocusEvent | IncrementEvent\n  ): void {\n    e.preventDefault();\n\n    const isKeyDown = e.type === \"keydown\",\n      eventTarget = getEventTarget(e),\n      input = eventTarget as HTMLInputElement;\n\n    if (self.amPM !== undefined && eventTarget === self.amPM) {\n      self.amPM.textContent =\n        self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n    }\n\n    const min = parseFloat(input.getAttribute(\"min\") as string),\n      max = parseFloat(input.getAttribute(\"max\") as string),\n      step = parseFloat(input.getAttribute(\"step\") as string),\n      curValue = parseInt(input.value, 10),\n      delta =\n        (e as IncrementEvent).delta ||\n        (isKeyDown ? ((e as KeyboardEvent).which === 38 ? 1 : -1) : 0);\n\n    let newValue = curValue + step * delta;\n\n    if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n      const isHourElem = input === self.hourElement,\n        isMinuteElem = input === self.minuteElement;\n\n      if (newValue < min) {\n        newValue =\n          max +\n          newValue +\n          int(!isHourElem) +\n          (int(isHourElem) && int(!self.amPM));\n\n        if (isMinuteElem) incrementNumInput(undefined, -1, self.hourElement);\n      } else if (newValue > max) {\n        newValue =\n          input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n\n        if (isMinuteElem) incrementNumInput(undefined, 1, self.hourElement);\n      }\n\n      if (\n        self.amPM &&\n        isHourElem &&\n        (step === 1\n          ? newValue + curValue === 23\n          : Math.abs(newValue - curValue) > step)\n      ) {\n        self.amPM.textContent =\n          self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n      }\n\n      input.value = pad(newValue);\n    }\n  }\n\n  init();\n  return self;\n}\n\n/* istanbul ignore next */\nfunction _flatpickr(\n  nodeList: ArrayLike<Node>,\n  config?: Options\n): Instance | Instance[] {\n  // static list\n  const nodes = Array.prototype.slice\n    .call(nodeList)\n    .filter((x) => x instanceof HTMLElement) as HTMLElement[];\n\n  const instances: Instance[] = [];\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n    try {\n      if (node.getAttribute(\"data-fp-omit\") !== null) continue;\n\n      if (node._flatpickr !== undefined) {\n        node._flatpickr.destroy();\n        node._flatpickr = undefined;\n      }\n\n      node._flatpickr = FlatpickrInstance(node, config || {});\n      instances.push(node._flatpickr);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  return instances.length === 1 ? instances[0] : instances;\n}\n\n/* istanbul ignore next */\nif (\n  typeof HTMLElement !== \"undefined\" &&\n  typeof HTMLCollection !== \"undefined\" &&\n  typeof NodeList !== \"undefined\"\n) {\n  // browser env\n  HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (\n    config?: Options\n  ) {\n    return _flatpickr(this, config);\n  };\n\n  HTMLElement.prototype.flatpickr = function (config?: Options) {\n    return _flatpickr([this], config) as Instance;\n  };\n}\n\n/* istanbul ignore next */\nvar flatpickr = function (\n  selector: ArrayLike<Node> | Node | string,\n  config?: Options\n) {\n  if (typeof selector === \"string\") {\n    return _flatpickr(window.document.querySelectorAll(selector), config);\n  } else if (selector instanceof Node) {\n    return _flatpickr([selector], config);\n  } else {\n    return _flatpickr(selector, config);\n  }\n} as FlatpickrFn;\n\n/* istanbul ignore next */\nflatpickr.defaultConfig = {};\n\nflatpickr.l10ns = {\n  en: { ...English },\n  default: { ...English },\n};\n\nflatpickr.localize = (l10n: CustomLocale) => {\n  flatpickr.l10ns.default = {\n    ...flatpickr.l10ns.default,\n    ...l10n,\n  };\n};\nflatpickr.setDefaults = (config: Options) => {\n  flatpickr.defaultConfig = {\n    ...flatpickr.defaultConfig,\n    ...(config as ParsedOptions),\n  };\n};\n\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\n\n/* istanbul ignore next */\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n  (jQuery.fn as any).flatpickr = function (config: Options) {\n    return _flatpickr(this, config);\n  };\n}\n\nDate.prototype.fp_incr = function (days: number | string) {\n  return new Date(\n    this.getFullYear(),\n    this.getMonth(),\n    this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days)\n  );\n};\n\nif (typeof window !== \"undefined\") {\n  window.flatpickr = flatpickr;\n}\n\nexport default flatpickr;\n"],"names":["defaultOptions","English"],"mappings":"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"}